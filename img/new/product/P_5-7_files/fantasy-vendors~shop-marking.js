(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{245:function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},258:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},277:function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},278:function(e,t,n){var r=n(279)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},279:function(e,t,n){var r=n(258).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),s=new T(r||[]);return a(i,"_invoke",{value:E(e,n,s)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var m={};function h(){}function g(){}function v(){}var y={};d(y,c,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==n&&i.call(_,c)&&(y=_);var b=v.prototype=h.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,s,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function A(e){if(e||""===e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return g.prototype=v,a(b,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:g,configurable:!0}),g.displayName=d(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},x(S.prototype),d(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(b),d(b,l,"Generator"),d(b,c,(function(){return this})),d(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},625:function(e,t,n){},626:function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new p((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function o(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function i(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",o(e)}}function a(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return"[object Object]"=={}.toString.call(e)}function c(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function u(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function l(e,t){for(var n=e.split("."),r=t.split("."),o=0;3>o;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function d(e){this.id=""+(new Date).getTime()+ ++w,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=h.slice(0)}var p=e.Promise,f=(p||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var m={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},h=[],g={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(r)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),m.mainDomain=i,m.subDomain=a,m.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(m.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(m.AliAppName=r[1],m.AliAppVersion=r[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(m.AliAppName="AMAP",m.AliAppVersion=o[1])}();var v=/[Android|Adr]/.test(e.navigator.userAgent),y="AP"===m.AliAppName&&l(m.AliAppVersion,"10.1.2")>=0||"KB"===m.AliAppName&&l(m.AliAppVersion,"7.1.62")>=0||v&&"AMAP"===m.AliAppName&&l(m.AliAppVersion,"1.0.1")>=0,w=0;d.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},d.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},d.prototype.__processRequestType=function(n){var r=this,o=this.params,i=this.options;if(!0===m.H5Request&&(i.H5Request=!0),!0===m.WindVaneRequest&&(i.WindVaneRequest=!0),!1===i.H5Request&&!0===i.WindVaneRequest){if(!y&&(!t.windvane||parseFloat(i.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(y&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===i.H5Request)i.WindVaneRequest=!1;else if(void 0===i.WindVaneRequest&&void 0===i.H5Request){if(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0,y){if(i.WindVaneRequest=i.H5Request=void 0,e.AlipayJSBridge)if(s(o.data))i.WindVaneRequest=!0;else try{s(JSON.parse(o.data))?i.WindVaneRequest=!0:i.H5Request=!0}catch(e){i.H5Request=!0}else i.H5Request=!0;"AMAP"!==m.AliAppName||o.useNebulaJSbridgeWithAMAP||(i.WindVaneRequest=i.H5Request=void 0,i.H5Request=!0)}window.self!==window.top&&(i.H5Request=!0)}var a=e.navigator.userAgent.toLowerCase();return a.indexOf("youku")>-1&&i.mainDomain.indexOf("youku.com")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),i.mainDomain.indexOf("youku.com")>-1&&a.indexOf("youku")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),n?n().then((function(){var e=i.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===i.WindVaneRequest&&y&&i.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!y||!isNaN(i.retJson.error)||-1!==i.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return y&&s(o.data)&&(o.data=JSON.stringify(o.data)),m.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);void 0===i.retJson.api&&void 0===i.retJson.v&&(i.retJson.api=o.api,i.retJson.v=o.v,i.retJson.ret=[i.retJson.error+"::"+i.retJson.errorMessage],i.retJson.data={})}})):void 0};var _="_m_h5_c",b="_m_h5_tk";d.prototype.__getTokenFromAlipay=function(){var t=n(),r=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!o&&y&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(r.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},d.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&c(_)?e.token=c(_).split(";")[0]:e.token=e.token||c(b),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},d.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},d.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}n.maxRetryTimes>0&&(u(_,n.pageDomain,"*"),u(b,n.mainDomain,n.subDomain),u("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=g.TOKEN_EXPIRED}})):void e()},d.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var o=r.hostSetting[e.location.hostname];o.prefix&&(r.prefix=o.prefix),o.subDomain&&(r.subDomain=o.subDomain),o.mainDomain&&(r.mainDomain=o.mainDomain)}if(!0===r.H5Request){var a="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),c=(new Date).getTime(),u=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),n(t(e,s),r)}function o(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),n(t(e,s),r)}function i(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),n(t(e,s),r)}function a(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,l,d,p,f,m,h,g,v;for(v=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),f=1732584193,m=4023233417,h=2562383102,g=271733878,c=0;c<v.length;c+=16)u=f,l=m,d=h,p=g,f=r(f,m,h,g,v[c+0],7,3614090360),g=r(g,f,m,h,v[c+1],12,3905402710),h=r(h,g,f,m,v[c+2],17,606105819),m=r(m,h,g,f,v[c+3],22,3250441966),f=r(f,m,h,g,v[c+4],7,4118548399),g=r(g,f,m,h,v[c+5],12,1200080426),h=r(h,g,f,m,v[c+6],17,2821735955),m=r(m,h,g,f,v[c+7],22,4249261313),f=r(f,m,h,g,v[c+8],7,1770035416),g=r(g,f,m,h,v[c+9],12,2336552879),h=r(h,g,f,m,v[c+10],17,4294925233),m=r(m,h,g,f,v[c+11],22,2304563134),f=r(f,m,h,g,v[c+12],7,1804603682),g=r(g,f,m,h,v[c+13],12,4254626195),h=r(h,g,f,m,v[c+14],17,2792965006),f=o(f,m=r(m,h,g,f,v[c+15],22,1236535329),h,g,v[c+1],5,4129170786),g=o(g,f,m,h,v[c+6],9,3225465664),h=o(h,g,f,m,v[c+11],14,643717713),m=o(m,h,g,f,v[c+0],20,3921069994),f=o(f,m,h,g,v[c+5],5,3593408605),g=o(g,f,m,h,v[c+10],9,38016083),h=o(h,g,f,m,v[c+15],14,3634488961),m=o(m,h,g,f,v[c+4],20,3889429448),f=o(f,m,h,g,v[c+9],5,568446438),g=o(g,f,m,h,v[c+14],9,3275163606),h=o(h,g,f,m,v[c+3],14,4107603335),m=o(m,h,g,f,v[c+8],20,1163531501),f=o(f,m,h,g,v[c+13],5,2850285829),g=o(g,f,m,h,v[c+2],9,4243563512),h=o(h,g,f,m,v[c+7],14,1735328473),f=i(f,m=o(m,h,g,f,v[c+12],20,2368359562),h,g,v[c+5],4,4294588738),g=i(g,f,m,h,v[c+8],11,2272392833),h=i(h,g,f,m,v[c+11],16,1839030562),m=i(m,h,g,f,v[c+14],23,4259657740),f=i(f,m,h,g,v[c+1],4,2763975236),g=i(g,f,m,h,v[c+4],11,1272893353),h=i(h,g,f,m,v[c+7],16,4139469664),m=i(m,h,g,f,v[c+10],23,3200236656),f=i(f,m,h,g,v[c+13],4,681279174),g=i(g,f,m,h,v[c+0],11,3936430074),h=i(h,g,f,m,v[c+3],16,3572445317),m=i(m,h,g,f,v[c+6],23,76029189),f=i(f,m,h,g,v[c+9],4,3654602809),g=i(g,f,m,h,v[c+12],11,3873151461),h=i(h,g,f,m,v[c+15],16,530742520),f=a(f,m=i(m,h,g,f,v[c+2],23,3299628645),h,g,v[c+0],6,4096336452),g=a(g,f,m,h,v[c+7],10,1126891415),h=a(h,g,f,m,v[c+14],15,2878612391),m=a(m,h,g,f,v[c+5],21,4237533241),f=a(f,m,h,g,v[c+12],6,1700485571),g=a(g,f,m,h,v[c+3],10,2399980690),h=a(h,g,f,m,v[c+10],15,4293915773),m=a(m,h,g,f,v[c+1],21,2240044497),f=a(f,m,h,g,v[c+8],6,1873313359),g=a(g,f,m,h,v[c+15],10,4264355552),h=a(h,g,f,m,v[c+6],15,2734768916),m=a(m,h,g,f,v[c+13],21,1309151649),f=a(f,m,h,g,v[c+4],6,4149444226),g=a(g,f,m,h,v[c+11],10,3174756917),h=a(h,g,f,m,v[c+2],15,718787259),m=a(m,h,g,f,v[c+9],21,3951481745),f=n(f,u),m=n(m,l),h=n(h,d),g=n(g,p);return(s(f)+s(m)+s(h)+s(g)).toLowerCase()}(r.token+"&"+c+"&"+s+"&"+n.data),l={jsv:"2.7.0",appKey:s,t:c,sign:u},d={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===l[e]&&void 0===d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(l[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){l[e]=n.ext_querys[e]})),r.getJSONP?l.type="jsonp":r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?l.type="originaljsonp":(r.getJSON||r.postJSON)&&(l.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?l.type="jsonp":(r.getJSON||r.postJSON)&&(l.type="json"))),!0===r.useJsonpResultType&&"originaljson"===l.type&&delete l.type,r.dangerouslySetProtocol&&(a=r.dangerouslySetProtocol+":"+a),"5.0"===n.SV&&(a+="5.0/",i()),r.querystring=l,r.postdata=d,r.path=a}t()},d.prototype.__processUnitPrefix=function(e){e()};var x=0;d.prototype.__requestJSONP=function(e){function t(e){if(l&&clearTimeout(l),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var r=n(),i=this.params,s=this.options,c=i.timeout||2e4,u="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++x,l=setTimeout((function(){e(s.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),c);s.querystring.callback=u;var d=document.createElement("script"),p=s.path+"?"+a(s.querystring)+"&"+a(s.postdata);return"5.0"===i.SV&&window.etSign&&(p+="&bx_et="+window.etSign(p)),d.src=p,d.async=!0,d.onerror=function(){t("ABORT"),e(s.abortErrMsg||"ABORT::接口异常退出")},window[u]=function(){s.results=Array.prototype.slice.call(arguments),t(),r.resolve()},o(d),r.promise},d.prototype.__requestJSON=function(t){function r(e){d&&clearTimeout(d),"TIMEOUT"===e&&u.abort()}var o=n(),i=this.params,s=this.options,u=new e.XMLHttpRequest,l=i.timeout||2e4,d=setTimeout((function(){t(s.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")}),l);s.CDR&&c(_)&&(s.querystring.c=decodeURIComponent(c(_))),u.onreadystatechange=function(){if(4==u.readyState){var e,n,i=u.status;if(i>=200&&300>i||304==i){r(),e=u.responseText,n=u.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,s.results=[e],o.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),t(s.abortErrMsg||"ABORT::接口异常退出")}};var p,f,m=s.path+"?"+a(s.querystring);s.getJSON?(p="GET",m+="&"+a(s.postdata)):s.postJSON&&(p="POST",f=a(s.postdata)),"5.0"===i.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),u.open(p,m,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=i.ext_headers||i.headers;if(h)for(var g in h)u.setRequestHeader(g,h[g]);return u.send(f),o.promise},d.prototype.__requestWindVane=function(e){function r(e){a.results=[e],o.resolve()}var o=n(),i=this.params,a=this.options,s=i.data,c=i.api,u=i.v,l=a.postJSON?1:0,d=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?d="originaljson":"string"===i.valueType&&(d="")),!0===a.useJsonpResultType&&(d="");var p,f,m="https"===location.protocol?1:0,h=i.isSec||0,g=i.sessionOption||"AutoLoginOnly",v=i.ecode||0,y=i.ext_headers||{},w=i.ext_querys||{};p=2*(f=void 0!==i.timer?parseInt(i.timer):void 0!==i.timeout?parseInt(i.timeout):2e4),!0===i.needLogin&&void 0===i.sessionOption&&(g="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(h=i.secType);var _={api:c,v:u,post:String(l),type:d,isHttps:String(m),ecode:String(v),isSec:String(h),param:JSON.parse(s),timer:f,needLogin:!!i.needLogin,sessionOption:g,ext_headers:y,ext_querys:w};i.ttid&&!0===a.dangerouslySetWVTtid&&(_.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(_,i.dangerouslySetWindvaneParams);var b="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(b=i.customWindVaneClassName),t.windvane.call(b,"send",_,r,r,p),o.promise},d.prototype.__requestAlipay=function(t){var r=n(),o=this.params,i=this.options,a={apiName:o.api,apiVersion:o.v,needEcodeSign:"1"===String(o.ecode),headers:o.ext_headers||{},usePost:!!i.postJSON};s(o.data)||(o.data=JSON.parse(o.data)),a.data=o.data,o.ttid&&!0===i.dangerouslySetWVTtid&&(a.ttid=o.ttid),(i.getJSON||i.postJSON||i.getOriginalJSONP)&&(a.type="originaljson"),void 0!==o.valueType&&("original"===o.valueType?a.type="originaljson":"string"===o.valueType&&delete a.type),!0===i.useJsonpResultType&&delete a.type,Object.assign&&o.dangerouslySetAlipayParams&&Object.assign(a,o.dangerouslySetAlipayParams);var c="mtop";return"string"==typeof o.customAlipayJSBridgeApi&&(c=o.customAlipayJSBridgeApi),e.AlipayJSBridge.call(c,a,(function(e){i.results=[e],r.resolve()})),r.promise},d.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return y?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var o=t.c;e.CDR&&o&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(_,o,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=g.SUCCESS:t.retType=g.ERROR,e.retJson=t}))},d.prototype.__sequence=function(e){var t=this,r=[],o=[];e.forEach((function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=n(),c=n();r.push((function(){return s=n(),(a=i.call(t,(function(e){return s.resolve(e),c.promise}),(function(e){return s.reject(e),c.promise})))&&(a=a.catch((function(e){s.reject(e)}))),s.promise})),o.push((function(e){return c.resolve(e),a}))}}));for(var i,a=f;i=r.shift();)a=a.then(i);for(;i=o.pop();)a=a.then(i);return a};var S=function(e){if(!m.EtRequest||window.__etReady||m.AliAppName)e();else{i();var t,n,r=!1;window.etReady=function(){window.__etReady=!0,r||(r=!0,e())};var o=function(){t&&clearInterval(t),n&&clearTimeout(n),r||(r=!0,e())};t=setInterval((function(){try{window.etSign&&(window.__etReady=!0,o()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,o()})}catch(e){o()}}),100),n=setTimeout((function(){o()}),2e4)}},E=function(e){e()};d.prototype.request=function(n){var o=this;if(this.options=r(n||{},m),!p){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=p.resolve([S,E]).then((function(e){var t=e[0],n=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,n])})).then((function(){var e=o.options.retJson;return e.retType!==g.SUCCESS?p.reject(e):o.options.successCallback?void o.options.successCallback(e):p.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:g.ERROR}):n="string"==typeof e?{ret:[e],retJson:g.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,data:o.params.data,v:o.params.v,retJson:n}),o.options.failureCallback?void o.options.failureCallback(n):p.reject(n)}));return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=a),S=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new d(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.middlewares=h,t.mtop.config=m,t.mtop.RESPONSE_TYPE=g,t.mtop.CLASS=d}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r){var o=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),i=o&&r.h5url?r.h5url:r.url,a=r.dialogSize,s=this,c=e.dpr||1,u=document.createElement("div"),l=document.documentElement.getBoundingClientRect(),d=Math.max(l.width,window.innerWidth)/c,p=window.innerHeight/c;u.style.cssText=["-webkit-transform:scale("+c+") translateZ(0)","-ms-transform:scale("+c+") translateZ(0)","transform:scale("+c+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+d+"px","height:"+p+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(d>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var f=document.createElement("div");f.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),f.innerText=t;var m=document.createElement("img");m.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),m.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var h=document.createElement("iframe");if(h.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),o)f.appendChild(m),u.appendChild(f);else{var g=a&&a.width||"420px",v=a&&a.height||"320px",y=50,w=50,_=24,b=-39;v.indexOf("px")>-1?_-=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(y-=Number(v.replace("%",""))/2),g.indexOf("px")>-1?b+=Number(g.replace("px",""))/2:g.indexOf("%")>-1&&(w+=Number(g.replace("%",""))/2),m.style.cssText=["position:absolute","width:15px","height:15px","top:"+y+"%","left:"+w+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+_+"px","margin-left:"+b+"px"].join(";"),u.appendChild(m),h.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+g,"height:"+v,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}u.appendChild(h),u.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(u),h.src=i,m.addEventListener("click",(function(){s.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),u.dispatchEvent(e)}),!1),this.addEventListener=function(){u.addEventListener.apply(u,arguments)},this.removeEventListener=function(){u.removeEventListener.apply(u,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),u.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-l.top),u.parentNode&&u.parentNode.removeChild(u)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var o=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,r=this.options,o=this.params;return e().then((function(){var e=r.retJson,i=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===a.LoginRequest||!0===r.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==r.safariGoLogin||!u||"taobao.com"===r.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push((function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then((function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var c=!!window.document._sufei_data2,u=new Image,l="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+c;window.location&&location.href&&(l+="&href=="+location.href.substr(0,128)),window.__fyModule&&(l+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(l+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(l+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(l+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(l+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(l+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),u.src=l,document.body.appendChild(u)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var d="_m_h5_smt",p=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(d),f=!1;if(!0===i.saveAntiCreepToken&&p)for(var m in p=JSON.parse(p))s[m]&&(f=!0);if(!0===i.saveAntiCreepToken&&p&&!f){for(var m in p)s[m]=p[m];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new o((function(o,a){function c(){l.removeEventListener("close",c),e.removeEventListener("message",u),a("USER_INPUT_CANCEL::用户取消输入")}function u(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var p;l.removeEventListener("close",c),e.removeEventListener("message",u),l.hide();try{for(var f in"string"==typeof(p=JSON.parse(decodeURIComponent(r.content)))&&(p=JSON.parse(p)),p)s[f]=p[f];!0===i.saveAntiCreepToken?(document.cookie=d+"="+JSON.stringify(p)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var l=new r("",t.data);l.addEventListener("close",c,!1),e.addEventListener("message",u,!1),l.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},627:function(e,t,n){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var n={},r=(t||{}).decode||i,o=0;for(;o<e.length;){var a=e.indexOf("=",o);if(-1===a)break;var c=e.indexOf(";",o);if(-1===c)c=e.length;else if(c<a){o=e.lastIndexOf(";",a-1)+1;continue}var u=e.slice(o,a).trim();if(void 0===n[u]){var l=e.slice(a+1,c).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),n[u]=s(l,r)}o=c+1}return n},t.serialize=function(e,t,n){var i=n||{},s=i.encode||a;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var c=s(t);if(c&&!o.test(c))throw new TypeError("argument val is invalid");var u=e+"="+c;if(null!=i.maxAge){var l=i.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(i.domain){if(!o.test(i.domain))throw new TypeError("option domain is invalid");u+="; Domain="+i.domain}if(i.path){if(!o.test(i.path))throw new TypeError("option path is invalid");u+="; Path="+i.path}if(i.expires){var d=i.expires;if(!function(e){return"[object Date]"===r.call(e)||e instanceof Date}(d)||isNaN(d.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+d.toUTCString()}i.httpOnly&&(u+="; HttpOnly");i.secure&&(u+="; Secure");if(i.priority){switch("string"==typeof i.priority?i.priority.toLowerCase():i.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=Object.prototype.toString,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function a(e){return encodeURIComponent(e)}function s(e,t){try{return t(e)}catch(t){return e}}},628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferDomain=void 0,t.transferDomain=function(e,t){const n=t||location&&location.hostname;if(n){const t=n.match(/alibaba\.(.*)/);if(t&&t.length>0)return e.replace("com",t[1])}return e}},862:function(e,t,n){"use strict";n.r(t);var r=n(277),o=n.n(r),i=n(245),a=n.n(i),s=n(278),c=n.n(s),u=n(0),l=n.n(u),d=n(8),p=n.n(d),f={close:l.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,"close"),l.a.createElement("g",{id:"Symbols",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l.a.createElement("g",{id:"close"},l.a.createElement("rect",{id:"矩形",x:"0",y:"0",width:"24",height:"24"}),l.a.createElement("path",{d:"M17.9084453,4.97249428 L18.9715547,6.03501718 L13.057,11.9990513 L18.9715547,17.9649828 L17.9084453,19.0275057 L12,13.0670513 L6.09155473,19.0275057 L5.02844527,17.9649828 L10.942,11.9990513 L5.02844527,6.03501718 L6.09155473,4.97249428 L12,10.9320513 L17.9084453,4.97249428 Z",fill:"#222222",transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "}))))},m=(n(625),function(e){return e.minisite="minisite",e.detail="detail",e.upcoming="upcoming",e.replay="replay",e}({}));function h(e){var t=e.avatarUrl,n=e.contactName,r=e.onlineStatus,o=void 0===r||r,i=e.onlineStatusText,a=e.message,s=e.actionText,c=e.onClose,u=e.onActionClick,d=e.fromPage===m.minisite?"icbu-im-plugin right80":"icbu-im-plugin right60";return l.a.createElement("div",{className:d},l.a.createElement("div",{className:"icbu-im-plugin-inner"},l.a.createElement("div",{className:"close-icon",onClick:c},f.close),l.a.createElement("div",{className:"contact-wrap"},l.a.createElement("div",{className:"contact-left"},l.a.createElement("img",{className:"contact-avatar",src:t}),o&&l.a.createElement("div",{className:"online-tip"})),l.a.createElement("div",{className:"contact-main-info"},l.a.createElement("span",{className:"contact-name"},n),l.a.createElement("span",{className:"contact-status"},i))),l.a.createElement("span",{className:"message-text"},a),l.a.createElement("div",{className:"action-button",onClick:u},l.a.createElement("span",{className:"action-text"},s))))}var g=function(e){return e.upcoming="visiter_markting_live",e.replay="visiter_markting_live",e.minisite="visiter_markting_shopDetail",e.detail="visiter_markting_productDetail",e}({}),v=n(626);var y=n(627),w=n(628);function _(e){return e?Object(w.transferDomain)(e):e}var b=function(e){if(window){var t=e.ext,n=void 0===t?"":t,r=e.bizData,o=void 0===r?{}:r,i=n+"&bizData="+encodeURIComponent(JSON.stringify(o));if(window.goldlog&&window.goldlog.record)window.goldlog.record("/sc.ma.im","CLK",i,"GET");else(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:["/sc.ma.im","CLK",i,"GET"]})}},x={};var S=function(){var e,t,n,r=function(){var e,t="en_US",n="zh_CN";if(null===(e=document)||void 0===e||!e.cookie)return{buyer:t,seller:n};var r=document.cookie.match(/sc_b_locale=(\w+)/),o=document.cookie.match(/intl_locale=(\w+)/);return{buyer:r&&r[1]?r[1]:t,seller:o&&o[1]?o[1]:n}}().buyer;t=(e={namespace:"intl-gangesweb_webliteMarketing",language:r}).namespace,n=e.language,fetch("https://s.alicdn.com/@mcms/combine?name="+t+"&language="+n+"&type=json",{method:"GET",credentials:"omit",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},mode:"cors",cache:"no-cache"}).then((function(e){var n=e.json();Object.assign(x,n[t])}))},E=function(e,t){return x[e]||t};v.config.mainDomain=_("alibaba.com"),v.config.subDomain="h",v.config.prefix="acs";var k={visiter_markting_productDetail:{key:"im.chat.arrive.marketing.product.reply",defaultValue:"Hi, I want to know more about this product.",bizType:"1",bizIdKey:"productId"},visiter_markting_shopDetail:{key:"im.chat.arrive.marketing.company.reply",defaultValue:"Hi, I want to know more about your company.",bizType:"2",bizIdKey:"companyId"},visiter_markting_live:{key:"im.chat.arrive.marketing.company.reply",defaultValue:"Hi, I want to know more about your company."}};function R(e){return v.request(e).then((function(e){return e.data})).catch((function(t){throw b({ext:"marketingRequestError",bizData:{params:e,errorMsg:t}}),t}))}function O(e){var t=e.slrAliId,n=e.bucket,r=e.scene,o=function(e){var t;return(null===(t=k[e])||void 0===t?void 0:t.bizType)||""}(r),i=function(e){var t,n=e.scene;return e[null===(t=k[n])||void 0===t?void 0:t.bizIdKey]||""}(e);return R({api:"mtop.alibaba.intl.im.marmaterial.query",v:"1.0",appKey:"24889839",data:{scene:r,slrAliId:t,bucketName:n,bizType:o,bizId:i},ecode:1,dataType:"json"}).then((function(e){var t=e.marketMaterialInfo,n=void 0===t?"{}":t,o=JSON.parse(n),i=o.speechcraft;"1"===o.system_flag&&(i=E(o.medusa_key,i));var s=function(){var e="",t="",n=document.cookie,r=y.parse(n).xman_us_f;if(r){var o=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!1);var n={};return e.replace(/([^?&]+)=([^?&]+)/g,(function(e,r,o){return t?n[decodeURIComponent(r)]=decodeURIComponent(o):n[r]=o,o+"="+r})),n}(r).x_user,i=void 0===o?"":o;if(i){var a=i.split("|");e=a[1]||"",t=a[2]||""}}return{firstName:e,lastName:t}}().firstName;i=E("im_chat_arrive_marketing_hi_name","Hi, {name}!").replace(/{name}/g,s)+" "+i;var c=function(e){var t=k[e];return E(null==t?void 0:t.key,null==t?void 0:t.defaultValue)}(r);return a()({},e,{marketingText:i,buyerMarketingText:c})}))}S();var T=function(){function e(){this.initialized=!1,this.container=void 0,this.entryParams=void 0,this.marketingInfo={}}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var t=e.prototype;return t.initEntryParams=function(e){var t=e.slrAliId,n=e.bucket,r=e.fromPage,o=e.productId,i=e.companyId;return t&&n&&r?Object.values(m).includes(r)?m.detail!==r||o?m.minisite!==r||i?(this.entryParams=a()({},e,{scene:g[r]}),!0):(console.log("必须传入companyId"),!1):(console.log("必须传入productId"),!1):(console.log("fromPage传入错误"),!1):(console.log("初始化入参错误"),!1)},t.renderApp=function(e){var t=this;!this.container&&document&&(this.container=document.createElement("div"),this.container.id="im-marketing-dialog",document.body.appendChild(this.container),p.a.render(l.a.createElement(h,e),this.container,(function(){setTimeout((function(){t.container.children[0].children[0].classList.add("active")}),10)})))},t.doAction=function(){var e=o()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.closeMarketingDialog(),e.next=3,t=this.entryParams,n=this.marketingInfo,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,d=void 0,p=void 0,f=void 0,r=t.fromPage,o=void 0===r?"live":r,i=t.productId,a=t.scene,s=n.secReceptAliId,c=n.marketingText,u=n.buyerMarketingText,f=[{chatType:1,messageType:1,entranceSource:l=a,content:c,ip:d=o,clientInfo:p="web",number:0}],a===g.detail&&i&&f.push({chatType:1,messageType:2e3,entranceSource:l,content:{cardType:2e3,params:{ids:i,ctime:Date.now()}},ip:d,clientInfo:p,number:1}),f.push({chatType:1,messageType:1,entranceSource:l,content:u,ip:d,clientInfo:p,number:f.length}),b({ext:"sendMarketingMessages",bizData:{length:f.length,secReceptAliId:s}}),R({api:"mtop.alibaba.icbu.im.xiaoman.visiter.markting.message",v:"1.0",appKey:"24889839",data:{sellerEncryptAliId:s,xiaoManVisiterMarktingMessages:JSON.stringify(f)},ecode:1,dataType:"json"});case 3:e.sent.result||b({ext:"sendMarketingMessagesFail",bizData:{entryParams:JSON.stringify(this.entryParams),marketingInfo:JSON.stringify(this.marketingInfo)}}),this.openChat();case 6:case"end":return e.stop()}var t,n,r,o,i,a,s,c,u,l,d,p,f}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.openChat=function(){var e,t=this.entryParams.fromPage,n=this.marketingInfo,r=n.secReceptAliId,o=n.receptAliId;b({ext:"openChatAfterMarketing",bizData:{receptAliId:o}});var i=null===(e=document)||void 0===e?void 0:e.getElementById("#weblite-iframe");if(i){var a=JSON.stringify({type:"weblite:open",data:{fromPage:t,aliId:o,aliIdEncrypt:r}});b({ext:"marketingOpenChat",bizData:{data:a}});var s=_(location.protocol+"//onetalk.alibaba.com");i.contentWindow.postMessage(a,s)}},t.getMarketingTreatment=function(){var e=o()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,treatment:"marketing_group_3"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.showMarketingDialog=function(){var e=o()(c.a.mark((function e(t){var n,r,o,i,a,s,u,l,d,p,f,m,h,g,v,y=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initialized){e.next=2;break}return e.abrupt("return");case 2:if(this.initEntryParams(t)){e.next=6;break}return b({ext:"marketingEntryParamsError",bizData:t}),e.abrupt("return");case 6:if(this.initialized=!0,b({ext:"marketingEntry",bizData:this.entryParams}),r=this.entryParams,o=r.slrAliId,i=r.bucket,a=r.fromPage,s=r.scene,u=r.companyId,l=r.productId,null!==(n=this.marketingInfo)&&void 0!==n&&n.marketingText){e.next=14;break}return e.next=12,O(this.entryParams);case 12:d=e.sent,this.marketingInfo=d;case 14:p=this.marketingInfo,f=p.avatar,m=p.isHit,h=p.receptAliId,g=p.receptName,v=p.marketingText,b({ext:"gotMarketingInfo",bizData:{marketingInfo:JSON.stringify(this.marketingInfo)}}),1!==m&&"1"!==m||!v||(b({ext:"marketingDialogShow",bizData:{slrAliId:o,receptAliId:h,bucket:i,scene:s,productId:l,companyId:u}}),this.renderApp({fromPage:a,avatarUrl:f,contactName:g,onlineStatusText:E("im.chat.arrive.marketing.online","Online"),message:v,actionText:E("im.chat.arrive.marketing.action","Message now"),onClose:function(){y.closeMarketingDialog(),b({ext:"marketingDialogClose",bizData:{slrAliId:o,receptAliId:h,bucket:i,scene:s,productId:l,companyId:u}})},onActionClick:function(){b({ext:"marketingAskClick",bizData:{slrAliId:o,receptAliId:h,bucket:i,scene:s,productId:l,companyId:u}}),y.doAction()}}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.closeMarketingDialog=function(){this.container&&this.container.parentNode&&(this.container.parentNode.removeChild(this.container),this.container=null)},e}();T.instance=void 0;var A=T.getInstance();t.default=A;window.IMPlugin=A}}]);