(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{317:function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function o(){void 0!==i&&e.removeListener("error",i),r([].slice.call(arguments))}var i;"error"!==t&&(i=function(r){e.removeListener(t,o),n(r)},e.once("error",i)),e.once(t,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var o,i,s,a;if(c(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=d.bind(n);return o.listener=r,n.wrapFn=o,o}function m(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):v(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var c=u.length,f=v(u,c);for(r=0;r<c;++r)i(f[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,o,i,s;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},318:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t){var r=e||{},n=r.moduleName,o=r.moduleNameAlias,i=r.ownerType;return o||(3===i?"intl-icbu-smod-"+n:"icbu-"+t+"-"+n)}t.pick=function(e,t){var r={};return t.forEach((function(t){return r[t]=e[t]})),r},t.getNameAlias=o,t.createModuleDom=function(e,t,r){var n=(t||{}).moduleName,i=document.createElement("div");return i.setAttribute("class","J_module"),i.setAttribute("module-name",o(t,r)),i.setAttribute("module-title",n),e&&e.appendChild(i),i},t.getModInfo=function(e,t,r){if(!e)return null;var i=e.ownerType,s=e.assetsJs,a=e.assetsCss,u=e.wirelessAssetsVersion,c=e.assetsVersion,f=void 0;return"Page_WeApp"===(t||{}).pageName?(e.ownerType=3,f={jsLoaded:!0,cssLoaded:!0}):f=3===i?{jsSrc:s,cssSrc:a}:{version:c||u},n({moduleNameAlias:o(e,r)},f)}},629:function(e,t,r){e.exports=r(630)},630:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=c(r(317)),s=c(r(631)),a=c(r(635)),u=r(318);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}window.ShopRender=window.ShopRender||{};var l=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));Object.keys(window.ShopRender).forEach((function(e){return!n[e]&&(n[e]=window.ShopRender[e])})),window.ShopRender=n;var i=r||{},u=i.libInfo,c=i.modInfo,f=i.assetsDomain,l=i.terminalType,d=i.gdc,p=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(i,["libInfo","modInfo","assetsDomain","terminalType","gdc"]);return n.terminalType=l||"pc",n.gdc=d||{},n.dataLoader=new a.default(o(p,{terminalType:n.terminalType})),n.assetsLoader=new s.default({libInfo:u,modInfo:c,assetsDomain:f,terminalType:n.terminalType}),n}return f(t,e),t.prototype.setGdc=function(e){o(this.gdc,e)},t.prototype.getData=function(e){return this.dataLoader.getData(e)},t.prototype.setData=function(e,t){if(!t&&!(e=(t=e||{}).widgetId||t.moduleName))return!1;var r=t||{},n=r.moduleName,o=r.moduleData;return n&&!this.getInfo(n)&&this.setInfo(n,(0,u.getModInfo)(t,this.gdc,this.terminalType)),!(!o||o.async)&&(this.dataLoader.setData(e,t),!0)},t.prototype.getInfo=function(e){return this.assetsLoader.getInfo(e)},t.prototype.setInfo=function(e,t){this.assetsLoader.setInfo(e,t)},t.prototype.loadAssets=function(e){var t=this,r=Array.isArray(e)?e:[e],n={},o=[];if(r.forEach((function(e){var r=t.getInfo(e)||{},i=r.cssSrc,s=r.cssLoadPromise,a=r.jsSrc,u=r.jsLoadPromise;i||s||a||u?n[e]=t.assetsLoader.load(e):o.push(e)})),o.length){var i=this.dataLoader.doLoad(o);o.forEach((function(e,r){n[e]=i[r].then((function(r){var n=(r||{}).version;t.setInfo(e,{version:n})})).then((function(){return t.assetsLoader.load(e)}))}))}return r.map((function(e){return n[e]}))},t.prototype.renderModules=function(e,t){var r=this,n=Array.isArray(e)?e:[e];"string"==typeof n[0]&&(n=n.map((function(e){return{moduleName:e}})));var o=n.map((function(e){return e.moduleName})),i=n[0].widgetId,s=i?n.map((function(e){return e.widgetId})):o,a=this.dataLoader.doLoad(s,i),c=this.loadAssets(o);return t?Promise.all(a.concat(c)).then((function(){return t.innerHTML=""})).then((function(){return Promise.all(n.map((function(e){return e.container=(0,u.createModuleDom)(t,e,r.terminalType),r._render(e)})))})):Promise.all(n.map((function(e,t){return c[t].then((function(){return r._render(e)}))})))},t.prototype._render=function(e){var t=this,r=e||{},i=r.moduleName,s=r.widgetId,a=r.container,u=r.renderConfig,c=this.getData(s||i),f=this.getInfo(i)||{},l=f.cssLoadPromise,d=f.jsLoadPromise;if(!c||!l||!d)return Promise.reject(new Error("modNotReady:"+i+"_"+s));var p=o({},this.gdc,u);return Promise.all([c,d,l]).then((function(e){var r=n(e,2),o=r[0],u=r[1];u._newVersion_?u(a,{gdc:p,mds:o},t):u(a,JSON.stringify({gdc:p,mds:o})),t.emit("widgetRendered",i,s)})).catch((function(e){throw t.emit("widgetRenderFailed",i,s,e),e}))},t}(i.default);t.default=l,e.exports=t.default},631:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(317),s=(n=i)&&n.__esModule?n:{default:n},a=r(632),u=r(634);function c(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var l=Promise.resolve(),d=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));n.cache={};var i=r||{},s=i.assetsDomain,a=i.terminalType,f=i.libInfo,l=i.modInfo;n.assetsDomain=s||"assets.alicdn.com/g",n.terminalType=a,n.modInfo=o({group:"icbumod",fileName:"web-index"},l);var d=f||{},p=d.group,m=void 0===p?"icbu-decorate":p,h=d.fileName,v=void 0===h?"index":h,y=d.name,w=d.version,g=c(d,["group","fileName","name","version"]),b="wl"===a?"icbu-mod-lib-wl":"icbu-mod-lib";return n.libName=y||b,w&&(g.cssSrc=g.cssSrc||(0,u.getCdnSrc)(n.assetsDomain,m,n.libName,w,v,"css"),g.jsSrc=g.jsSrc||(0,u.getCdnSrc)(n.assetsDomain,m,n.libName,w,v,"js")),n.setInfo(n.libName,o({moduleNameAlias:y},g)),n}return f(t,e),t.prototype.getInfo=function(e){return this.cache[e]},t.prototype.setInfo=function(e,t){var r=t||{},n=r.cssLoaded,i=r.jsLoaded,s=r.version,a=c(r,["cssLoaded","jsLoaded","version"]),f=this.modInfo,d=f.group,p=f.fileName,m=a.moduleNameAlias,h=a.jsSrc,v=a.cssSrc;v&&(v=String(v).replace(/^https?:/,""));var y=this.cache[e]||{};m||(a.moduleNameAlias=y.moduleNameAlias||(0,u.getNameAlias)({moduleName:e},this.terminalType)),s&&(a.cssSrc=v||(0,u.getCdnSrc)(this.assetsDomain,d,a.moduleNameAlias,s,p,"css"),a.jsSrc=h||(0,u.getCdnSrc)(this.assetsDomain,d,a.moduleNameAlias,s,p,"js")),n&&(a.cssLoadPromise=l),!a.cssLoadPromise&&a.cssSrc&&(0,u.isCssLoaded)(a.cssSrc)&&(a.cssLoadPromise=l),i&&(e===this.libName?a.jsLoadPromise=l.then((function(){return(0,u.getModLib)(e)})):a.jsLoadPromise=l.then((function(){return(0,u.getModFunc)(a.moduleNameAlias)}))),this.cache[e]=o({},y,a)},t.prototype.load=function(e){var t=this,r=this.getInfo(e)||{},n=r.moduleNameAlias,o=r.jsSrc,i=r.cssSrc,s=r.cssLoadPromise,c=r.jsLoadPromise;return n?s||i?c||o?(s||(r.cssLoadPromise=(0,a.loadCss)(i)),c||(e===this.libName?r.jsLoadPromise=(0,a.loadJs)(o).then((function(){return(0,u.getModLib)(e)})):r.jsLoadPromise=this.load(this.libName).then((function(){return(0,a.loadJs)(o)})).then((function(){return(0,u.getModFunc)(n)}))),Promise.all([r.jsLoadPromise,r.cssLoadPromise]).then((function(){return t.emit("assetsLoaded",e)}))):Promise.reject(new Error("noJsSrc:"+e)):Promise.reject(new Error("noCssSrc:"+e)):Promise.reject(new Error("noModNameAlias:"+e))},t}(s.default);t.default=d,e.exports=t.default},632:function(e,t,r){"use strict";e.exports=r(633)},633:function(e,t,r){"use strict";function n(e,t){return new Promise((function(r,n){var o=t&&setTimeout((function(){return n(new Error("timeout"))}),t),i=document.createElement("link");i.href=e,i.rel="stylesheet",i.onload=function(){o&&window.clearTimeout(o),r()},i.onerror=function(){o&&window.clearTimeout(o),n(new Error("loadCssError:"+e))},document.head.appendChild(i)}))}function o(e,t){return new Promise((function(r,n){var o=t&&setTimeout((function(){return n(new Error("timeout"))}),t),i=document.createElement("script");i.src=e,i.async=!0,i.onload=function(){o&&window.clearTimeout(o),r()},i.onerror=function(){o&&window.clearTimeout(o),n(new Error("loadJsError:"+e))},document.head.appendChild(i)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.loadCss=n,t.loadJs=o,t.default=function(e,t,r){if("css"===t)return n(e,r);if("js"===t)return o(e,r);var i=t>0?t:r;return/\.css$/.test(String(e))?n(e,i):/\.js$/.test(String(e))?o(e,i):Promise.reject("unsupportFile")}},634:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCssLoaded=t.getModLib=t.getModFunc=t.toClsName=t.getCdnSrc=t.getNameAlias=void 0;var n=r(318);function o(e){return e[0].toUpperCase()+e.slice(1)}function i(e){return String(e).split("-").map(o).join("")}var s=void 0;t.getNameAlias=n.getNameAlias,t.getCdnSrc=function(e,t,r,n,o,i){return"//"+e+"/"+t+"/"+r+"/"+n+"/"+o+"."+i},t.toClsName=i,t.getModFunc=function(e){return window.ShopRender[i(e)]},t.getModLib=function(e){var t=window[i(e)]||{};return window.React=window.React||t.React,window.ReactDOM=window.ReactDOM||t.ReactDOM,window.Next=window.Next||t,window.React&&!window.React.PropTypes&&(window.React.PropTypes=t.PropTypes),t},t.isCssLoaded=function(e){return(s=s||function(){for(var e=document.head.querySelectorAll('link[rel="stylesheet"]'),t=[],r=0;r<e.length;r++)t.push(String(e[r].href).replace(/^https?:/,""));return t}()).find((function(t){return t===e}))}},635:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(317),s=(n=i)&&n.__esModule?n:{default:n},a=r(318);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var c=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this)),o=r||{},i=o.maxDataLoadNum,s=void 0===i?1:i,a=o.terminalType,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(o,["maxDataLoadNum","terminalType"]);return n.options=u,n.maxDataLoadNum=s,n.terminalType=a,n.cache={},n}return u(t,e),t.prototype.getData=function(e){return this.cache[e]},t.prototype.setData=function(e,t){this.cache[e]=Promise.resolve(t)},t.prototype.doLoad=function(e,t){for(var r=this,n=Array.isArray(e)?e:[e],o=n.filter((function(e){return!r.getData(e)})),i=o.length,s=i&&(this.maxDataLoadNum?Math.ceil(i/this.maxDataLoadNum):1),a=function(e){for(var n=e*r.maxDataLoadNum,s=(e+1)*r.maxDataLoadNum||i,a=r._fetch(o.slice(n,s),t),u=n;u<s&&u<i;u++)r.setData(o[u],function(e){return a.then((function(t){return t[e]}))}(o[u]))},u=0;u<s;u++)a(u);return n.map((function(e){return r.getData(e)}))},t.prototype.load=function(e,t){var r=Array.isArray(e)?e:[e];return Promise.all(this.doLoad(r,t)).then((function(e){var t={};return r.forEach((function(r,n){return t[r]=e[n]})),t}))},t.prototype._fetch=function(e,t){var r=this,n=Array.isArray(e)?e.join():e;if(!n)return Promise.reject(new Error("noValidId:"+n));var i=t?"module":"component",s=t?"moduleIds":"componentKeys",u=(0,a.pick)(this.options,["bizId","language","envMode","hostToken","detailId","siteId","pageId"]),c=o(u,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({renderType:i,clientType:"pc"===this.terminalType?"PC":"WIRELESS"},s,n)),f=[];for(var l in c)c[l]&&f.push(l+"="+encodeURIComponent(c[l]));return fetch(this.options.api||"/event/app/alisite/render.htm",{method:"POST",credentials:"include",body:f.join("&"),headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error("fetchNotSuccess:"+n);for(var t in e.data)e.data[t].moduleData=JSON.parse(e.data[t].data),delete e.data[t].data;return r.emit("dataLoaded",n),e.data}))},t}(s.default);t.default=c,e.exports=t.default}}]);