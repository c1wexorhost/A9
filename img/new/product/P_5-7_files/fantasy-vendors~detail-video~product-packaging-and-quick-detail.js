(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(496);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(497);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var s=n(498);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var a=n(499);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var l=n(500);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})),t.getVideoUrl=function(e,t){return"//cloud.video.alibaba.com/play/u/2153292369/p/1/e/6/t/1/d/"+(t||"hd")+"/"+e+".mp4"},t.safeThrow=function(e){setTimeout((function(){throw e}),0)},t.getVideoId=function(e){var t=e.currentSrc.match(/\/(\d+)\.mp4($|\?|#)/);return t&&t[1]},t.getVideoIdBySrc=function(e){var t=e.match(/\/(\d+)\.mp4($|\?|#)/);return t&&t[1]},t.addParam=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n.filter((function(e){return!!e})).join("&");return e?e+"&"+r:r},t.getValid=function(e,t,n){return e<t?t:e>n?n:e},t.getPlaysid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},t.getData=function(e,t){var n=Object.entries(t).map((function(e){var t=i(e,2);return t[0]+"="+t[1]})).join("&");return fetch(e+"?"+n,{mode:"cors",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"include"}).then((function(e){if(!e.ok){var t=new Error(e.statusText||e.status);throw t.response=e,t}return e})).then((function(e){return e.json()})).then((function(e){if(200!==e.responseCode)throw new Error(e.responseCode);return e.entity}))},t.proxyEvent=function(e,t,n){n.forEach((function(n){e.addEventListener(n,(function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];i.unshift(n),t.emit.apply(t,i)}))}))}},307:function(e,t){var n=/\{([0-9a-zA-Z_]+)\}/g;e.exports=function(e){var t;if(2===arguments.length&&"object"==typeof arguments[1])t=arguments[1];else{t=new Array(arguments.length-1);for(var i=1;i<arguments.length;++i)t[i-1]=arguments[i]}t&&t.hasOwnProperty||(t={});return e.replace(n,(function(n,i,r){var o;return"{"===e[r-1]&&"}"===e[r+n.length]?i:null==(o=t.hasOwnProperty(i)?t[i]:null)?"":o}))}},355:function(e,t,n){"use strict";e.exports=n(491)},356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(508)),r=f(n(509)),o=f(n(510)),s=f(n(511)),a=f(n(512)),l=f(n(513)),u=f(n(514)),c=f(n(515)),d=f(n(516));function f(e){return e&&e.__esModule?e:{default:e}}var h={play:i.default,pause:r.default,fullscreen:o.default,exitfullscreen:s.default,volume:a.default,volumeoff:l.default,loading:u.default,refresh:c.default,circle:d.default};t.default=h,e.exports=t.default},491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),o=c(r),s=c(n(2)),a=c(n(492)),l=n(493),u=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}var v="bc-react-video-player";var m=function(e){function t(){return f(this,t),h(this,e.apply(this,arguments))}return p(t,e),t.prototype.componentDidUpdate=function(e){e.videoId===this.props.videoId&&e.videoUrl===this.props.videoUrl||this.renderVideo()},t.prototype.componentDidMount=function(){this.renderVideo()},t.prototype.componentWillUnmount=function(){this.removeVideo()},t.prototype.renderVideo=function(){var e=this.props;e.beforeRender&&(e=i({},{autoPreload:!0},e,e.beforeRender(this.elment,e)));var t=e,n=(t.className,t.videoHolder,t.videoOptions),r=(t.beforeRender,t.singleton),o=(t.width,t.height,t.autoPreload),s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["className","videoHolder","videoOptions","beforeRender","singleton","width","height","autoPreload"]);if(this.removeVideo(),this.player=new u.default(i({},s,{container:this.elment}),n),this.setPreLoad(o),r){var a=this.player.elVideo;a.addEventListener("play",(function(){!function(e){for(var t=document.querySelectorAll("."+v+".singleton video"),n=0;n<t.length;n++)t[n]!==e&&t[n].pause()}(a),r.onChange&&r.onChange("play",a)})),r.onChange&&a.addEventListener("ended",(function(){r.onChange("ended",a)}))}},t.prototype.isInView=function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return t.top<n&&t.bottom>0},t.prototype.preLoadData=function(){this.player.elVideo.preload="metadata"},t.prototype.setPreLoad=function(e){var t=this;if(this.player.elVideo&&"none"===this.player.elVideo.preload&&e){var n=this.elment;if(this.isInView(n))this.preLoadData();else{var i=(0,a.default)((function(){t.isInView(n)&&(t.preLoadData(),window.removeEventListener("scroll",i))}),250);window.addEventListener("scroll",i)}}},t.prototype.removeVideo=function(){this.player&&(this.player.destroy(),this.player=null),this.elment.innerHTML=""},t.prototype.render=function(){var e,t=this,n=this.props,i=n.className,r=n.width,a=void 0===r?"100%":r,u=n.height,c=void 0===u?"100%":u,f=n.videoUrl,h=n.videoId,p=n.quality,m=n.videoOptions,y=n.videoHolder,g=n.singleton,b=(m||{}).poster;return o.default.createElement("div",{className:(0,s.default)((e={},d(e,v,!0),d(e,"singleton",g),d(e,i,i),e)),style:{width:a,height:c},ref:function(e){return t.elment=e}},y&&o.default.createElement("video",{className:"seo-video-placeholder",src:f||(0,l.getVideoUrl)(h,p),poster:b,preload:"none",controls:!1}))},t}(r.PureComponent);t.default=m,e.exports=t.default},492:function(e,t,n){(function(t){var n="Expected a function",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return c.Date.now()};function v(e,t,i){var r,o,s,a,l,u,c=0,d=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function T(e){return c=e,l=setTimeout(w,t),d?b(e):a}function _(e){var n=e-u;return void 0===u||n>=t||n<0||v&&e-c>=s}function w(){var e=p();if(_(e))return x(e);l=setTimeout(w,function(e){var n=t-(e-u);return v?h(n,s-(e-c)):n}(e))}function x(e){return l=void 0,g&&r?b(e):(r=o=void 0,a)}function E(){var e=p(),n=_(e);if(r=arguments,o=this,u=e,n){if(void 0===l)return T(u);if(v)return l=setTimeout(w,t),b(u)}return void 0===l&&(l=setTimeout(w,t)),a}return t=y(t)||0,m(i)&&(d=!!i.leading,s=(v="maxWait"in i)?f(y(i.maxWait)||0,t):s,g="trailing"in i?!!i.trailing:g),E.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=u=o=l=void 0},E.flush=function(){return void 0===l?a:x(p())},E}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,i){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return m(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),v(e,t,{leading:r,maxWait:t,trailing:o})}}).call(this,n(13))},493:function(e,t,n){e.exports=n(494)},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoId=t.getVideoUrl=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=h(n(42)),a=h(n(495)),l=n(262),u=h(n(501)),c=h(n(503)),d=h(n(504)),f=h(n(506));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}}(e,t))}var v=u.default,m=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));o.config=r({width:"100%",height:"100%"},n),o.videoOptions=r({preload:"metadata"},i,{playsinline:!0,"webkit-playsinline":!0}),o.observer=null;var a=o.config,u=a.container,d=a.logOptions,h=a.videoId,p=a.width,v=a.controlOptions,m=a.videoElement,y=a.viewAutoplay,g=void 0!==y&&y;m?(m.removeAttribute("class"),m.removeAttribute("style"),o.elVideo=m):(o.elVideo=document.createElement("video"),o.setSource()),o.elRoot=document.createElement("div");var b="bc-video-player";(0,l.getElWidth)(u,p)<300&&(b+=" mini"),o.elRoot.className=b,o.elRoot.appendChild(o.elVideo),o.setAttrs(),o.controls=new f.default(o.elVideo,v),u.appendChild(o.elRoot);var T=(0,s.default)(u);!1!==d&&(o.log=new c.default(o.elVideo,r({videoId:h,scene:T&&T.c,hasVideoElement:!!m},d))),g&&o.initVideoManage();var _=o.videoOptions.autoplay;if(m&&_&&o.elVideo.play(),d&&"shopVideoPlayer"===d.scene){o.initStopDownload(u,{threshold:.9})}return(0,l.proxyEvent)(o.elVideo,o,l.PROXY_EVENT),o.pluginsCall(),o}return p(t,e),t.prototype.initStopDownload=function(e,t){var n=this;if(t&&(0,l.isSupportIntersectionObserver)()){var r=t.root,o=t.threshold,s=void 0===o?.8:o;if(this.elVideo){var a=this.elVideo.src||this.elVideo.childNodes[0].src,u=0,c=!1;this.elVideo.addEventListener("progress",(function(){u=n.elVideo.buffered.end(0)/n.elVideo.duration}));this.observer=new IntersectionObserver((function(t){var r=i(t,1)[0];if(r.intersectionRatio<.01&&n.elVideo.currentTime>0&&u<s){n.elVideo.preload="none",n.elVideo.src="",n.elVideo.src=a,c=!0;var o=e.querySelector(".play-button");o&&(o.style.display="")}c&&r.intersectionRatio>.99&&(n.elVideo.preload="metadata",c=!1)}),{threshold:[0,1],root:r}),this.observer.observe(this.elVideo)}}},t.prototype.initVideoManage=function(){new v(this.elVideo).init()},t.prototype.setSource=function(){var e=this,t=this.config,n=t.videoUrl,i=t.videoId,r=t.quality,o=document.createElement("source");o.src=n||(0,l.getVideoUrl)(i,r),o.addEventListener("error",(function(t){return e.elVideo.dispatchEvent(new t.constructor(t.type,t))})),this.elVideo.appendChild(o)},t.prototype.setAttrs=function(){var e=this,t=this.config,n=t.width,i=t.height;Object.keys(this.videoOptions).forEach((function(t){if(e.elVideo[t]=e.videoOptions[t],!1!==e.videoOptions[t]){var n=!0===e.videoOptions[t]?"":e.videoOptions[t];e.elVideo.setAttribute(t,n)}})),this.elRoot.style.width=Number(n)?Number(n)+"px":n,this.elRoot.style.height=Number(i)?Number(i)+"px":i,this.elVideo.controls=!1,this.elVideo.muted&&(0,l.once)(this.elVideo,"loadedmetadata",(function(){return e.elVideo.muted=!0}))},t.prototype.pluginsCall=function(){var e=this;t.plugins&&Object.keys(t.plugins).forEach((function(n){var i=t.plugins[n];i&&"function"==typeof i||console.warn("plugin name",n,"is invalid"),e.elVideo&&i.call(e,e)}))},t.prototype.destroy=function(){this.emit("destroy"),this.log&&this.log.destroy(),this.controls.destroy(),this.observer&&this.observer.disconnect(),this.removeAllListeners()},t.install=function(e,n){t.plugins||(t.plugins={}),t.plugins[e]||(t.plugins[e]=n)},t.installAll=function(e){for(var n=0;n<e.length;n++)t.install(e[n].name,e[n].method)},o(t,[{key:"currentTime",get:function(){return this.elVideo.currentTime||0}}]),t}(a.default);m.installAll([d.default]),t.getVideoUrl=l.getVideoUrl,t.getVideoId=l.getVideoId,t.default=m},495:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},u.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return l(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||l(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==t||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&l(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u},496:function(e,t,n){"use strict";function i(e,t){return e.className.indexOf(t)>=0}Object.defineProperty(t,"__esModule",{value:!0}),t.isInView=function(e){if("hidden"===document.visibilityState)return!1;var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=e.getBoundingClientRect();return n.width>0&&n.height>0&&!(n.top>t||n.bottom<0)},t.createElement=function(e){var t=document.createElement("div");return t.innerHTML=String(e).replace(/>\s+</g,"><"),t.firstElementChild},t.once=function(e,t,n){var i=!1;e.addEventListener(t,(function(){i?e.removeEventListener(t,n):(n(),i=!0)}),{once:!0})},t.hasClassName=i,t.removeClassName=function(e,t){e.className=e.className.replace(t,"").trim()},t.addClassName=function(e,t){i(e,t)||(e.className=e.className+" "+t)},t.getElWidth=function(e,t){return Number(t)?t:e&&e.clientWidth?e.clientWidth*parseInt(t,10)/100:null}},497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFullScreenEnabled=function(e){var t=e.querySelector("video")||{};return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||t.webkitSupportsFullscreen||document.webkitFullscreenEnabled||t.webkitRequestFullScreen)},t.isFullScreen=function(e){var t=e.querySelector("video")||{};return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement||t.webkitDisplayingFullscreen)},t.requestFullscreen=function(e){var t=e.querySelector("video")||{};e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():t.webkitSupportsFullscreen&&t.webkitEnterFullscreen()},t.exitFullScreen=function(e){var t=e.querySelector("video")||{};document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()},t.onFullScreenChange=function(e,t){var n=e.querySelector("video")||{addEventListener:function(){}};n.addEventListener("webkitbeginfullscreen",t),n.addEventListener("webkitendfullscreen",t),e.addEventListener("fullscreenchange",t),e.addEventListener("webkitfullscreenchange",t),e.addEventListener("mozfullscreenchange",t)}},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportIntersectionObserver=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}},499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONSTS={MAX_WAIT_TIME:50,SEEK_WAIT_TIME:200},t.PROXY_EVENT=["loadstart","seeking","seeked","canplay","loadeddata","progress","loadedmetadata","playing","play","ended","pause","waiting","timeupdate","volumechange","ratechange","error"],t.SUBTITLE_CONFIG={URL:"https://pre-video.alibaba.com/video/subtitle",DEFAULT_LANGUAGE:"en",DEFAULT_OPEN:!0,DEFAULT_STYLE:{mode:"stroke",fitVideo:!0,offsetBottom:40,baseSizeX:49,baseSizeY:28,minSize:12,minMobileSize:12,line:"double",fontColor:"#fff"}}},500:function(e,t,n){"use strict";function i(e){return e<10?"0"+e:""+e}Object.defineProperty(t,"__esModule",{value:!0}),t.formatTime=function(e){var t=Math.round(e)||0;return i(Math.floor(t/60))+":"+i(t%60)}},501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(502),o=(i=r)&&i.__esModule?i:{default:i},s=n(262);var a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._chooseToShow=function(){if(n.playVideo&&(0,s.isInView)(n.playVideo))return n.playVideo.muted=!0,void n.playVideo.play();!n.playVideo||(0,s.isInView)(n.playVideo)?n._playingVideo=n.playVideo:n.playVideo.pause()},this.destroy=function(){window.removeEventListener("scroll",n.debounceChooseToShow)},this.playVideo=t,this.debounceChooseToShow=(0,o.default)(this._chooseToShow,300)}return e.prototype.init=function(){this.debounceChooseToShow(),window.addEventListener("scroll",this.debounceChooseToShow)},e.prototype.pause=function(){this._playingVideo&&this._playingVideo.pause()},e.prototype.resume=function(){this._playingVideo&&this._playingVideo.play()},e}();t.default=a,e.exports=t.default},502:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=a||l||Function("return this")(),c=Object.prototype.toString,d=Math.max,f=Math.min,h=function(){return u.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=r.test(e);return a||o.test(e)?s(e.slice(2),a?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,o,s,a,l,u=0,c=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=i,o=r;return i=r=void 0,u=t,s=e.apply(o,n)}function b(e){return u=e,a=setTimeout(_,t),c?g(e):s}function T(e){var n=e-l;return void 0===l||n>=t||n<0||m&&e-u>=o}function _(){var e=h();if(T(e))return w(e);a=setTimeout(_,function(e){var n=t-(e-l);return m?f(n,o-(e-u)):n}(e))}function w(e){return a=void 0,y&&i?g(e):(i=r=void 0,s)}function x(){var e=h(),n=T(e);if(i=arguments,r=this,l=e,n){if(void 0===a)return b(l);if(m)return a=setTimeout(_,t),g(l)}return void 0===a&&(a=setTimeout(_,t)),s}return t=v(t)||0,p(n)&&(c=!!n.leading,o=(m="maxWait"in n)?d(v(n.maxWait)||0,t):o,y="trailing"in n?!!n.trailing:y),x.cancel=function(){void 0!==a&&clearTimeout(a),u=0,i=l=r=a=void 0},x.flush=function(){return void 0===a?s:w(h())},x}}).call(this,n(13))},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(12),s=(i=o)&&i.__esModule?i:{default:i},a=n(262);var l=function(){function e(t,n){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t){this.elVideo=t,this.config=r({logId:"bcAlphaTbplayer",enoughTime:3e3},n);var o=this.config,s=o.logPara,l=o.videoId,u=o.productid,c=o.companyid,d=o.scene,f=o.duration,h=l||(0,a.getVideoId)(this.elVideo),p=this.elVideo.firstChild&&this.elVideo.firstChild.src||this.elVideo.src,v=this.elVideo.duration||f;if(this.commonLogPara=(0,a.addParam)(s,"videoId="+h,"scene="+d,"videoUrl="+p,"playsid="+(0,a.getPlaysid)(),"preload="+this.elVideo.preload,"autoplay="+this.elVideo.autoplay,v&&"videoduration="+v,u&&"productid="+u,c&&"companyid="+c),this.times={},this.totalPlayTime=0,this._logPlayTime=this._logPlayTime.bind(this),this.once("loadstart",(function(){i.setTime("beginLoadTime"),i.times.loadstartTime||i.setTime("loadstartTime")})),this.elVideo.duration){this.setTime("beginLoadTime");var m=Date.now()-this.times.beginLoadTime;this.times.redirectTime=this.getRedirectTime(),this.log("control","EXP","loadTime="+m+(this.times.redirectTime>=0?"&redirectTime="+this.times.redirectTime:"")),this.commonLogPara=(0,a.addParam)(this.commonLogPara,"videoduration="+this.elVideo.duration)}else this.once("loadedmetadata",(function(){if(i.times.beginLoadTime){var e=Date.now()-i.times.beginLoadTime;i.times.redirectTime=i.getRedirectTime(),i.log("control","EXP","loadTime="+e+(i.times.redirectTime>=0?"&redirectTime="+i.times.redirectTime:""))}i.times.loadedmetadataTime||i.setTime("loadedmetadataTime"),i.commonLogPara=(0,a.addParam)(i.commonLogPara,"videoduration="+i.elVideo.duration)}));this.logExpose(),this.logControls(),this.logPerf()}else(0,a.safeThrow)(new Error("Video element is required!"))}return e.prototype.getRedirectTime=function(){var e=this.config.videoId;if(window.performance&&window.performance.getEntries){var t=window.performance.getEntries().find((function(t){return t.name.indexOf("cloud.video.alibaba.com")>-1&&Number((0,a.getVideoIdBySrc)(t.name))===Number(e)}));return t&&t.fetchStart-t.startTime}},e.prototype.on=function(e,t){this.elVideo.addEventListener(e,t)},e.prototype.once=function(e,t){(0,a.once)(this.elVideo,e,t)},e.prototype.log=function(e,t,n){var i=this.config,r=i.logId,o=i.duration,l=this.elVideo.duration||o,u=l&&(this.elVideo.currentTime/l).toFixed(2),c=(0,a.addParam)(this.commonLogPara,"progress="+(u||0),"volume="+(this.elVideo.muted?0:this.elVideo.volume.toFixed(2)),n);(0,s.default)("/sc."+r+"."+e,t,c)},e.prototype.setTime=function(e,t){this.times[e]=void 0===t?Date.now():t},e.prototype.logExpose=function(){var e=this;this.log("expose","EXP"),this.on("ended",(function(){e.log("control","CLK","action=ended"),e._logPlayTime()})),window.addEventListener("beforeunload",this._logPlayTime)},e.prototype.logControls=function(){var e=this;this.on("pause",(function(){e.elVideo.ended||(e.log("control","CLK","action=pause"),e._logPlayTime(),e._logWaitTime())})),this.elVideo.autoplay&&!this.config.hasVideoElement&&(this.log("play","EXP"),this.once("loadstart",(function(){e.setTime("firstPlayTime")}))),!this.elVideo.paused&&this.elVideo.currentTime>0&&(this.log("play",this.elVideo.autoplay?"EXP":"CLK"),this.setTime("beginPlayTime")),this.once("canplay",(function(){e.times.canplayTime||(e.setTime("canplayTime"),e.elVideo.autoplay&&e.elVideo.play().then((function(){})).catch((function(){e.setTime("firstPlayTime",null)})))})),this.once("canplaythrough",(function(){e.times.canplaythroughTime||e.setTime("canplaythroughTime")})),this.on("play",(function(){if(e.times.playTime||e.setTime("playTime"),!e.times.firstPlayTime)return e.log("play",e.elVideo.autoplay?"EXP":"CLK"),e.setTime("firstPlayTime"),void e.setTime("beginPlayTime");!e.elVideo.seeking&&e.log("control","CLK","action=replay")})),this.once("loadeddata",(function(){e.times.loadeddataTime||e.setTime("loadeddataTime")})),this.on("seeking",(function(){e.setTime("seeking"),e.log("control","CLK","action=seeking"),e._logPlayTime()})),this.on("volumechange",(function(){e.log("control","CLK","action=volumechange")}));(0,a.onFullScreenChange)(this.elVideo.parentNode,(function(){return t=(0,a.isFullScreen)(e.elVideo.parentNode),void e.log("control","CLK","action=fullscreenchange&fullscreen="+!!t);var t}))},e.prototype.logPerf=function(){var e=this,t=void 0;this.isInView=(0,a.isInView)(this.elVideo),this.on("timeupdate",(function(){var n=Date.now();if(e.elVideo.paused)t=n;else{if(!e.times.firstFrame){e.setTime("firstFrame");var i=window.bcAlphaTbplayer||{},r=i.preloadTime,o=i.loadstartTimestamp,s=i.loadedmetadataTimeStamp,l=e.times.firstFrame-e.times.firstPlayTime,u=void 0;o&&o<e.times.firstPlayTime&&(l=e.times.firstFrame-o,u="loadstart"),e.log("control","EXP","action=firstframe&frameloadtime="+l+"&frameType="+u+"&preloadTime="+r+"&loadstartTimeStamp="+e.times.loadstartTime+"&vmloadstartTimestamp="+o+"&loadedmetadataTimeStamp="+e.times.loadedmetadataTime+"&vmloadedmetadataTimeStamp="+s+"&loadeddataTimeStamp="+e.times.loadeddataTime+"&canplayTimeStamp="+e.times.canplayTime+"&canplaythroughTimeStamp="+e.times.canplaythroughTime+"&waitingTimeStamp="+e.times.waitingTime+"&playTimeStamp="+e.times.playTime+"&playingTime="+e.times.playingTime+"&firstframeTimeStamp="+e.times.firstFrame)}if(t){if(!(n-t<100)){t=n;var c=(0,a.isInView)(e.elVideo);e.isInView!==c?(e.isInView=c,e._logPlayTime(),e.setTime("beginPlayTime")):t-e.times.beginPlayTime>e.config.enoughTime&&(e._logPlayTime(),e.setTime("beginPlayTime"))}}else t=n}})),this.on("waiting",(function(){e.elVideo.seeking||(e.times.waitingTime||e.setTime("waitingTime"),e.setTime("waiting"),e._logPlayTime())})),this.on("seeked",(function(){e._logWaitTime(),e.setTime("waiting")})),this.on("playing",(function(){e.times.playingTime||e.setTime("playingTime"),e.setTime("beginPlayTime"),e._logWaitTime()})),this.on("error",(function(){var t=e.elVideo.error||{},n=t.message,i=t.code;e.log("control","EXP","action=error&msg="+(n||i||"404")),e._logPlayTime(),e._logWaitTime()})),this.on("stalled",(function(){e.times.firstStalledTime||e.setTime("firstStalledTime"),e.log("control","EXP","action=error&msg=stalled"),e._logPlayTime(),e._logWaitTime()}))},e.prototype._logPlayTime=function(){if(this.times.beginPlayTime){var e=Date.now()-this.times.beginPlayTime;this.setTime("beginPlayTime",null),!e||e<a.CONSTS.MAX_WAIT_TIME||(this.totalPlayTime+=e,this.log("control","EXP","action=playtime&playtime="+e+"&visible="+this.isInView+"&totalPlayTime="+this.totalPlayTime),!this._enoughTimeLoged&&this.totalPlayTime>=this.config.enoughTime&&(this.log("enoughtime","EXP","enoughtime="+this.config.enoughTime),this._enoughTimeLoged=!0))}},e.prototype._logWaitTime=function(){if(this.times.waiting){var e=Date.now()-this.times.waiting;this.setTime("waiting",null),!e||e<a.CONSTS.MAX_WAIT_TIME||this.log("control","EXP","action=waiting&waitTime="+e)}},e.prototype.destroy=function(){window.removeEventListener("beforeunload",this._logPlayTime)},e}();t.default=l,e.exports=t.default},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(863),s=(i=o)&&i.__esModule?i:{default:i},a=n(262);var l=a.SUBTITLE_CONFIG.URL,u=a.SUBTITLE_CONFIG.DEFAULT_LANGUAGE,c=a.SUBTITLE_CONFIG.DEFAULT_STYLE,d=a.SUBTITLE_CONFIG.DEFAULT_OPEN,f=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subtitle=null,this.url=l,this.language=u,this.open=d,this.player=this.extendPlayer(n),this.fetchOption={videoId:t,language:u},this.style=this.mergeStyle(c,i),this.init()}return e.prototype.init=function(){var e=this;this.getSubTitleData().then((function(t){return t&&e.attachSubtitle(t)})).then((function(){e.subtitle&&e.subtitle.on("resize",(function(t){var n=t.vBottom;e.subtitle.root.style.bottom=(n>e.style.offsetBottom?n:e.style.offsetBottom)+"px"}))})).catch(console.warn)},e.prototype.mergeStyle=function(e,t){var n=r({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n},e.prototype.extendPlayer=function(e){return e.root=e.elRoot,e.video=e.elVideo,e},e.prototype.getSubTitleData=function(){var e=this;return(0,a.getData)(this.url,this.fetchOption).then((function(t){var n=t.subtitleList;if(n)return{json:n.map((function(e){return{start:0===e.beginTime?e.beginTime+.01:e.beginTime,end:e.endTime,text:[e.subtitle]}})),language:e.language,default:!0,isDefault:!0}}))},e.prototype.attachSubtitle=function(e){this.subtitle=new s.default(r({subTitles:[e],defaultOpen:this.open},this.style)),this.subtitle.attachPlayer(this.player)},e.prototype.destroy=function(){this.subtitle&&this.subtitle.destroy()},e}();t.default={name:"textTrack",method:function(e){var t=e.config,n=t.videoId,i=t.textTrackStyle,r=void 0===i?{}:i,o=t.textTrack;if(void 0!==o&&o){var s=new f(n,e,r);e.once("destroy",(function(){return s.destroy()}))}}},e.exports=t.default},505:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},u.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return l(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||l(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==t||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&l(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u},506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(507)),r=o(n(518));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elVideo=t,this.options=n||{},"none"!==this.options.showCenterControl&&(this.centerControl=new i.default(t,this.options)),"none"!==this.options.showControlBar&&(this.barControl=new r.default(t,this.options)),this.bindEvents()}return e.prototype.bindEvents=function(){var e=this;this.elVideo.addEventListener("ended",(function(){e.elVideo.pause()})),this.options.reload&&this.elVideo.addEventListener("pause",(function(){e.elVideo.ended&&e.elVideo.load()}))},e.prototype.destroy=function(){this.barControl&&this.barControl.destroy()},e}();t.default=s,e.exports=t.default},507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(307)),r=n(262),o=a(n(356)),s=a(n(517));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elVideo=t,this.options=n||{},this.render(),this.bindEvents()}return e.prototype.render=function(){var e={};if(Object.keys(o.default).forEach((function(t){return e["icon_"+t]=o.default[t]})),this.element=(0,r.createElement)((0,i.default)(s.default,e)),this.options.centerControlSize){var t=Number(this.options.centerControlSize);t=t?t+"px":t,this.element.querySelector(".center-wrapper").style.width=t}"error"===this.options.showCenterControl?(0,r.addClassName)(this.element,"only-error"):this.elPlay=this.element.querySelector(".play-button"),this.orgClsName=this.element.className,this.elRefresh=this.element.querySelector(".refresh-button"),this.elVideo.parentNode.appendChild(this.element)},e.prototype.bindEvents=function(){var e=this;this.elPlay&&(this.elVideo.addEventListener("play",(function(){e.elPlay.style.display="none"})),this.elVideo.addEventListener("pause",(function(){e.elPlay.style.display=""}))),"manual"!==this.options.showCenterControl&&this.element.addEventListener("click",(function(){e.elVideo.paused?e.elVideo.play():e.elVideo.pause()}));var t=void 0;this.elVideo.addEventListener("waiting",(function(){clearTimeout(t),t=setTimeout((function(){return e.setClassName("loading")}),e.elVideo.seeking?r.CONSTS.SEEK_WAIT_TIME:r.CONSTS.MAX_WAIT_TIME)})),this.elVideo.addEventListener("seeked",(function(){clearTimeout(t),e.setClassName("")})),this.elVideo.addEventListener("error",(function(){clearTimeout(t),e.setClassName("error")})),this.elVideo.addEventListener("stalled",(function(){clearTimeout(t),e.setClassName("error")})),this.elVideo.addEventListener("playing",(function(){clearTimeout(t),e.setClassName("")})),this.elVideo.addEventListener("pause",(function(){clearTimeout(t),(0,r.removeClassName)(e.element,"loading")}));var n=void 0;this.elRefresh.addEventListener("click",(function(t){n||((0,r.once)(e.elVideo,"loadedmetadata",(function(){e.elVideo.play(),n=!1})),n=!0),e.elVideo.load(),e.setClassName("loading"),t.stopPropagation()}))},e.prototype.setClassName=function(e){this.element.className=(this.orgClsName+" "+e).trim()},e}();t.default=l,e.exports=t.default},508:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon play" viewBox="-4 0 22 22">\n  <path d="M17.446 11.966L1.701 21.348A1.125 1.125 0 0 1 0 20.38V1.618A1.125 1.125 0 0 1 1.7.652l15.746 9.381a1.125 1.125 0 0 1 0 1.933z" fill="#FFF" fill-rule="evenodd"/>\n</svg>\n'},509:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon pause" viewBox="0 0 14 22">\n  <g transform="translate(-23 -19)" fill="#FFF" fill-rule="evenodd">\n    <rect x="23" y="19" width="3" height="22" rx="1.5"/>\n    <rect x="34" y="19" width="3" height="22" rx="1.5"/>\n  </g>\n</svg>\n'},510:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon fullscreen" viewBox="0 0 1024 1024">\n  <path fill="#FFF" d="M298.667 597.333h-85.334v213.334h213.334v-85.334h-128v-128zm-85.334-170.666h85.334v-128h128v-85.334H213.333v213.334zm512 298.666h-128v85.334h213.334V597.333h-85.334v128zm-128-512v85.334h128v128h85.334V213.333H597.333z"/>\n</svg>\n'},511:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon exit-fullscreen" viewBox="0 0 1024 1024">\n  <path fill="#FFF" d="M597.333 597.333h213.334v85.334h-128v128h-85.334V597.333m-384 0h213.334v213.334h-85.334v-128h-128v-85.334m128-384h85.334v213.334H213.333v-85.334h128v-128m469.334 128v85.334H597.333V213.333h85.334v128h128z"/>\n</svg>\n'},512:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon volume" viewBox="0 0 1024 1024">\n  <path fill="#FFF" d="M128 384v256h170.667L512 853.333V170.667L298.667 384H128zm576 128c0-76.8-42.667-140.8-106.667-170.667v341.334C661.333 652.8 704 588.8 704 512zM597.333 136.533v89.6C721.067 264.533 810.667 375.467 810.667 512s-89.6 247.467-213.334 285.867v89.6C768 849.067 896 695.467 896 512S768 174.933 597.333 136.533z"/>\n</svg>\n'},513:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon volume-off" viewBox="0 0 1024 1024">\n  <path fill="#FFF" d="M704 512c0-76.8-42.667-140.8-106.667-170.667V435.2L704 541.867V512zm106.667 0c0 38.4-8.534 76.8-21.334 110.933l64 64c29.867-51.2 42.667-115.2 42.667-179.2 0-183.466-128-337.066-298.667-375.466v89.6C721.067 264.533 810.667 375.467 810.667 512zm-627.2-384L128 183.467 328.533 384H128v256h170.667L512 853.333V567.467l183.467 183.466c-29.867 21.334-59.734 38.4-98.134 51.2v89.6c59.734-12.8 110.934-38.4 157.867-76.8l85.333 85.334L896 844.8l-384-384L183.467 128zM512 170.667l-89.6 89.6 89.6 89.6v-179.2z"/>\n</svg>\n'},514:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon loading" viewBox="0 0 60 59">\n  <defs>\n    <linearGradient x1="50%" y1="12.762%" x2="50%" y2="100%" id="a">\n      <stop stop-color="#FFF" stop-opacity="0" offset="0%"/>\n      <stop stop-color="#FFF" offset="100%"/>\n    </linearGradient>\n  </defs>\n  <circle cx="30" cy="30" r="29" transform="translate(0 -1)" fill="#000" stroke="url(#a)" stroke-width="2" fill-rule="evenodd" fill-opacity=".4"/>\n</svg>\n'},515:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon refresh" viewBox="0 0 1024 1024">\n  <path fill="#FFF" d="M512 64C264.64 64 64 264.576 64 512c0 247.36 200.64 448 448 448 247.424 0 448-200.64 448-448C960 264.576 759.424 64 512 64zM511.936 896.768C299.52 896.768 127.232 724.48 127.232 512S299.52 127.232 511.936 127.232c212.48 0 384.704 172.224 384.704 384.768S724.416 896.768 511.936 896.768zM863.168 581.568c-10.816 10.688-28.096 10.688-38.848 0l-52.544-52.608c-8.896 136.064-121.344 244.48-259.84 244.48-73.152 0-143.36-30.912-192.704-84.8-11.2-12.16-10.304-31.04 1.856-42.24 12.032-11.2 31.104-10.496 42.24 1.856 38.08 41.472 92.16 65.344 148.544 65.344 104.128 0 189.12-79.616 199.552-180.928l-48.832 48.96c-10.752 10.688-28.096 10.688-38.784 0-10.688-10.752-10.688-28.096 0-38.784l100.16-100.224c5.248-5.184 12.16-8.064 19.456-8.064s14.208 2.88 19.328 8.064l100.352 100.224C873.856 553.408 873.856 570.752 863.168 581.568zM400.128 481.152 299.968 581.376C294.656 586.56 287.744 589.44 280.512 589.44S266.304 586.56 261.184 581.376L160.832 481.152c-10.688-10.688-10.688-28.032 0-38.784 10.816-10.688 28.096-10.688 38.848 0l52.544 52.672c8.96-136.128 121.344-244.416 259.712-244.416 73.728 0 144.512 31.36 193.984 86.144 11.136 12.224 10.112 31.168-2.112 42.24-12.032 11.136-31.104 10.304-42.24-2.112C623.36 334.656 568.832 310.464 511.936 310.464c-104.064 0-188.928 79.552-199.424 180.8l48.832-48.96c10.752-10.688 28.096-10.688 38.784 0C410.816 453.056 410.816 470.464 400.128 481.152z"/>\n</svg>\n'},516:function(e,t,n){"use strict";e.exports='\n<svg class="bvp-icon circle" viewBox="0 0 60 60">\n  <circle cx="30" cy="30" r="28" stroke="#fff" stroke-width="2" stroke-opacity="0.8" fill="#000" fill-opacity="0.3" />\n</svg>\n'},517:function(e,t,n){"use strict";e.exports='\n<div class="center-control">\n  <div class="center-wrapper">\n    <button class="center-button play-button">\n      {icon_play}\n      {icon_circle}\n    </button>\n    <button class="center-button loading-button">\n      {icon_pause}\n      {icon_loading}\n    </button>\n    <button class="center-button refresh-button">\n      {icon_refresh}\n    </button>\n  </div>\n</div>\n'},518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(307)),r=n(262),o=l(n(356)),s=l(n(519)),a=l(n(521));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elVideo=t,this.elContainer=this.elVideo.parentNode,this.options=n||{},this.conSize={},this.init=this.init.bind(this),this.updateProgress=this.updateProgress.bind(this),this.updateVolume=this.updateVolume.bind(this),this.fullScreenChange=this.fullScreenChange.bind(this),this.IeFullScreenChange=this.IeFullScreenChange.bind(this),this.render()}return e.prototype.render=function(){var e=this,t={};Object.keys(o.default).forEach((function(e){return t["icon_"+e]=o.default[e]})),this.element=(0,r.createElement)((0,i.default)(a.default,t)),this.elCurTime=this.element.querySelector(".current-time"),this.elTotalTime=this.element.querySelector(".total-time"),this.elPlay=this.element.querySelector(".play-button"),this.elFullscreen=this.element.querySelector(".fullscreen-button"),this.elVolume=this.element.querySelector(".volume-button"),this.elVideo.muted&&(this.elVolume.innerHTML=o.default.volumeoff),this.progressBar=new s.default(this.element.querySelector(".progress-bar"),0),this.volumeBar=new s.default(this.element.querySelector(".volume-bar"),1),"always"===this.options.showControlBar&&(0,r.addClassName)(this.element,"show"),(0,r.addClassName)(this.element,"forbid-fullscreen"),(0,r.once)(this.elVideo,"loadedmetadata",(function(){(0,r.isFullScreenEnabled)(e.elContainer)&&(0,r.removeClassName)(e.element,"forbid-fullscreen")})),this.elVideo.parentNode.appendChild(this.element),this.elPlay.addEventListener("click",(function(){e.elVideo.paused?e.elVideo.play():e.elVideo.pause()})),this.elVideo.addEventListener("play",(function(){e.elPlay.innerHTML=o.default.pause,e.updateProgress(!1)})),this.elVideo.addEventListener("pause",(function(){return e.elPlay.innerHTML=o.default.play})),this.elVideo.duration?this.init():(0,r.once)(this.elVideo,"loadedmetadata",this.init)},e.prototype.init=function(){var e=this;this.elTotalTime.innerHTML=""+(0,r.formatTime)(this.elVideo.duration),this.bindEvents(),this.progressBar.onChange=function(t){e.elVideo.currentTime=Math.floor(e.elVideo.duration*t)},this.progressBar.init(),this.volumeBar.onChange=function(t){e.elVideo.volume=t},this.volumeBar.init()},e.prototype.bindEvents=function(){var e=this;this.elVideo.addEventListener("timeupdate",this.updateProgress),(0,r.onFullScreenChange)(this.elContainer,this.fullScreenChange),document.msFullscreenEnabled&&document.addEventListener("MSFullscreenChange",this.IeFullScreenChange),this.elFullscreen.addEventListener("click",(function(){(0,r.isFullScreen)(e.elContainer)?(0,r.exitFullScreen)(e.elContainer):(e.conSize.width=e.elContainer.style.width,e.conSize.height=e.elContainer.style.height,(0,r.requestFullscreen)(e.elContainer))})),this.elVolume.addEventListener("click",(function(){e.elVideo.muted?(e.elVideo.muted=!1,e.elVolume.innerHTML=o.default.volume):(e.elVideo.muted=!0,e.elVolume.innerHTML=o.default.volumeoff)})),this.elVideo.addEventListener("volumechange",this.updateVolume)},e.prototype.updateProgress=function(e){e&&Math.abs(this.elVideo.currentTime-this._currentTime)<.5||(this._currentTime=this.elVideo.currentTime,this.progressBar.setProgress(this._currentTime/this.elVideo.duration),this.elCurTime.innerHTML=""+(0,r.formatTime)(this._currentTime))},e.prototype.updateVolume=function(){this.elVideo.muted||Math.abs(this.elVideo.volume-this._currentVolume)<.05||(this._currentVolume=this.elVideo.volume,this.volumeBar.setProgress(this._currentVolume))},e.prototype.fullScreenChange=function(){if((0,r.isFullScreen)(this.elContainer))return this.elContainer.style.width="100%",this.elContainer.style.height="100%",void(this.elFullscreen.innerHTML=o.default.exitfullscreen);this.elFullscreen.innerHTML=o.default.fullscreen,this.elContainer.style.width=this.conSize.width,this.elContainer.style.height=this.conSize.height},e.prototype.IeFullScreenChange=function(){(0,r.isFullScreen)(this.elContainer)&&document.msFullscreenElement!==this.elContainer||this.fullScreenChange()},e.prototype.destroy=function(){document.removeEventListener("MSFullscreenChange",this.IeFullScreenChange)},e}();t.default=u,e.exports=t.default},519:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(307)),r=n(262),o=s(n(520));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=(100*n).toFixed(2);this.element=(0,r.createElement)((0,i.default)(o.default,{progress:s})),this.elReached=this.element.querySelector(".reached"),this.elIndicator=this.element.querySelector(".indicator"),this.totalValue=null,t.appendChild(this.element),this.onChange=function(){}}return e.prototype.init=function(){this.bindEvents()},e.prototype.bindEvents=function(){var e=this;this.element.addEventListener("mouseup",(function(t){e._isMoving=!1;var n=e.getValue(t);e.setProgress(n),e.onChange(n)})),this.element.addEventListener("mousedown",(function(t){e._isMoving=!0,t.preventDefault(),t.stopPropagation()})),this.element.addEventListener("mouseleave",(function(t){if(e._isMoving){e._isMoving=!1;var n=e.getValue(t);e.setProgress(n),e.onChange(n)}})),this.element.addEventListener("mousemove",(function(t){e._isMoving&&e.setProgress(e.getValue(t),!0)}))},e.prototype.setProgress=function(e,t){if(t||!this._isMoving){var n=(100*(0,r.getValid)(e,0,1)).toFixed(2);this.elReached.style.width=n+"%",this.elIndicator.style.left=n+"%"}},e.prototype.getValue=function(e){var t=this.element.getBoundingClientRect();return(0,r.getValid)((e.clientX-t.left)/t.width,0,1)},e}();t.default=a,e.exports=t.default},520:function(e,t,n){"use strict";e.exports='\n  <div class="control-progress">\n    <div class="progress-inner">\n      <span class="reached" style="width:{progress}%"></span>\n      <span class="indicator" style="left:{progress}%"></span>\n    </div>\n  </div>\n'},521:function(e,t,n){"use strict";e.exports='\n<div class="control-bar">\n  <span class="bar-item left-panel">\n    <button class="bar-item play-button" tabindex="0">{icon_play}</button>\n  </span>\n  <span class="bar-item center-panel">\n    <span class="bar-item progress-wrapper">\n      <span class="bar-item current-time">00:00</span>\n      <span class="bar-item progress-bar"></span>\n      <span class="bar-item total-time">00:00</span>\n    </span>\n    <span class="bar-item volume">\n      <button class="bar-item volume-button" tabindex="1">{icon_volume}</button>\n      <span class="bar-item volume-bar"></span>\n    </span>\n  </span>\n  <span class="bar-item right-panel">\n    <button class="bar-item fullscreen-button" tabindex="2">{icon_fullscreen}</button>\n  </span>\n</div>\n'},863:function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function m(){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=v(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function y(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}n.r(t),n.d(t,"default",(function(){return Q}));var g=n(505),b=n.n(g),T=/^WEBVTT/,_=/^STYLE+$/,w=/^\:\:cue/,x=/^}+$/,E=/^\[Script Info\].*/,O=[/[0-9]{1,3}:[0-9]{2}:[0-9]{2}\.[0-9]{1,3}-->[0-9]{1,3}:[0-9]{2}:[0-9]{2}\.[0-9]{1,3}/,/[0-9]{1,2}:[0-9]{2}\.[0-9]{1,3}-->[0-9]{1,2}:[0-9]{2}\.[0-9]{1,3}/,/[0-9]{1,2}\.[0-9]{1,3}-->[0-9]{1,2}\.[0-9]{1,3}/],S=/^Format:\s/,V=/^Style:\s/,k=/^Dialogue:\s/;function C(e){var t=e.length;return 3===t?(60*(60*Number(e[0])+Number(e[1]))*1e3+1e3*Number(e[2]))/1e3:2===t?(60*Number(e[0])*1e3+1e3*Number(e[1]))/1e3:Number(e[0])}function P(e){return/^(\-|\+)?\d+(\.\d+)?$/.test(e)}function j(e,t){return e>=0&&e<t.length?t[e]:""}var L=function(){function e(){s(this,e)}return l(e,null,[{key:"parseJson",value:function(e){for(var t=[],n=0,i=0;i<e.length;i++){if(n>=50&&(n=0),0===n){var r={start:e[i].start,list:[e[i]],end:e[i].end};t.push(r)}else t[t.length-1].list.push(e[i]),t[t.length-1].end=e[i].end;n++}return t}},{key:"parse",value:function(t,n){var i=e.checkFormat(t);i||n({format:i});try{var r=[];"ass"===i?r=e.parseASS(t):"vtt"===i&&(r=e.parseVTT(t)),n({format:i,list:r.list,styles:r.styles})}catch(e){console.error(e),n({format:i},e)}}},{key:"parseASSItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.split(","),i={},r="";try{var o=n.length-t.length;return r=r=(r=o>0?n.splice(t.length-1,o+1).join(",")+"":n[n.length-1]+"").replace(/\\n+/g,""),n[t.length-1]=r,t.map((function(e,t){"end"===e||"start"===e?i[e]=C(n[t].split(":")):"text"===e?i[e]=[n[t]]:"layer"===e?(i[e]=[n[t]],i.textTag=[n[t]]):i[e]="style"===e?[n[t]]:Number(n[t])?Number(n[t]):n[t]})),i}catch(e){return console.error(e),{}}}},{key:"parseASS",value:function(t){for(var n=t.split("\n"),i=[],r=0,o=0,s=[],a=[],l=null;r<n.length;){if(S.test(n[r]))a=(a=n[r].replace(S,"").replace(/\s+/g,"").split(",")).map((function(e){return e.toLocaleLowerCase()}));else if(V.test(n[r]))s.push(n[r].replace(V,"").replace(/\s+/g,""));else if(k.test(n[r])){var u=e.parseASSItem(n[r].replace(k,""),a);if(l&&u.start===l.start&&u.end===l.end)try{var c=l,d=c.text,f=c.textTag,h=c.style;d.push(u.text[0]),f.push(u.textTag[0]),h.push(u.style[0])}catch(e){console.error(e)}else{l=u;var p=null;o%50==0?((p={start:l.start,end:l.end,list:[]}).list.push(l),i.push(p)):((p=i[i.length-1]).end=l.end,p.list.push(l)),o++}}r++}return{list:i,style:{}}}},{key:"parseVTTStyle",value:function(e,t){var n=e.split(":");if(n.length>1){var i=n[0].trim().split("-"),r="";i.length>1?i.map((function(e,t){r+=0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})):r=i[0],t[r]=n[1].trim().replace(/;$/,"")}return t}},{key:"parseVTT",value:function(e){for(var t=(e=e.replace(T,"")).split("\n"),n=[],i=0,r=0,o=null,s=!1,a=!1,l=null,u=null,c=[];i<t.length;){var d=j(i,t).trim();if(!d||s&&P(d))s=!d;else if(w.test(d)&&_.test(j(i-1,t).trim())){a=!0;var f=/\((.+?)\)/g.exec(d);u=f?f[1]:"",l=""}else if(a)x.test(d)?(c.push({key:u,style:l}),l=null,u=null,a=!1):l+=d;else if(d){s=!1;var h=this.checkIsTime(t[i]);if(h){var p=this.parseVttTime(h);if(!o||p.start!==o.start||p.end!==o.end){(o=p).text=[],o.textTag=[];var v=null;r%50==0?((v={start:o.start,end:o.end,list:[]}).list.push(o),n.push(v)):((v=n[n.length-1]).end=o.end,v.list.push(o)),r++}}else if(o){var m=o,y=m.text,g=m.textTag,b=this.parseVttText(t[i]);y.push(b.text),g.push(b.tag)}s=!1}i++}return{list:n,styles:c}}},{key:"checkIsTime",value:function(e){e=e.replace(/\s+/g,"");for(var t=0,n=null;t<O.length&&!(n=O[t].exec(e));)t++;return n?n[0]:null}},{key:"parseVttText",value:function(e){var t=/^(<?.+?>)/g.exec(e),n="",i="default";if(t){i=t[0].replace(/\<|\>|\&/g,"");var r=RegExp("^<".concat(i,">(([\\s\\S])*?)</").concat(i,">$")).exec(e);r?n=r[1]:(n=e,i="")}else n=e;for(var o=/<(\w+).(\w+)>/g,s=o.exec(n);s&&s.length>2;)n=n.replace(s[0],"<".concat(s[1],' class="').concat(s[2],'">')),s=o.exec(n);return{tag:i,text:n.replace(/\\n+/g,"<br/>")}}},{key:"parseVttTime",value:function(e){var t,n=e.split("--\x3e"),i=0;if(2===n.length){var r=n[0].split(":"),o=n[1].split(":");t=C(r),i=C(o)}return{start:t,end:i,time:e}}},{key:"isVTT",value:function(e){return T.test(e)}},{key:"isASS",value:function(e){return E.test(e)}},{key:"checkFormat",value:function(e){return e?T.test(e)?"vtt":E.test(e)?"ass":null:null}}]),e}(),F=[{code:0,msg:"SUCCESS"},{code:1,msg:"LOAD_ERROR"},{code:2,msg:"PARSER_ERROR"},{code:3,msg:"FORMAT_NOT_SUPPORTED"},{code:4,msg:"ID_OR_LANGUAGE_NOT_EXIST"},{code:5,msg:"PARAMETERS_ERROR"},{code:6,msg:"ABORT"},{code:7,msg:"UNKNOWN"},{code:8,msg:"DATA_ERROR:subtitle.url is null"},{code:9,msg:"DATA_ERROR:subtitle.url length is 0"}];function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={code:F[e].code,msg:F[e].msg};return Object.keys(t).map((function(e){n[e]=t[e]})),n}var R=l((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.url,i=t.method,r=void 0===i?"GET":i,o=t.type,a=void 0===o?"arraybuffer":o,l=t.timeout,u=void 0===l?1e4:l,c=t.data,d=void 0===c?{}:c,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e),new Promise((function(e,t){var i=new window.XMLHttpRequest,o=r.toUpperCase(),s=[];if(a&&(i.responseType=a),u&&(i.timeout=u),Object.keys(d).forEach((function(e){s.push("k=".concat(d[e]))})),i.onload=function(){200===i.status||206===i.status?e({context:f,res:i}):t(new Error({context:f,res:i,type:"error"}))},i.onerror=function(e){t(new Error({context:f,res:i,type:"error"}))},i.ontimeout=function(e){t(new Error({context:f,res:i,type:"error"}))},i.onabort=function(){t(new Error({context:f,res:i,type:"error"}))},"GET"===o)i.open(o,"".concat(n)),i.send();else{if("post"!==o)throw new Error("xhr ".concat(o," is not supported"));i.open(o,n),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(s.join("&"))}}))})),N=function(){function e(){var t,n;s(this,e);var i=new Promise((function(e,i){t=e,n=i}));return i.resolve=function(e){t(e),i.state="fulfilled"},i.reject=function(e){n(e),i.state="rejected",i.isBreak="DESTROYED"===e},i.state="pending",i}return l(e,[{key:"resolve",value:function(e){}},{key:"reject",value:function(e){}}]),e}();function I(e,t){if(!e)return!1;if(e.classList)return Array.prototype.some.call(e.classList,(function(e){return e===t}));var n=e.className&&"object"===o(e.className)?e.getAttribute("class"):e.className;return n&&!!n.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function A(e,t){e&&(e.classList?t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.add(t)})):I(e,t)||(e.className&&"object"===o(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t))}function z(e,t,n){var i=t.length;if(i<1)return-1;if(t[n=n<0?0:n>=i?i-1:n].start<=e&&e<t[n].end)return n;for(var r=t[n].end<=e?n+1:0;r<i;r++){if(t[r].start<=e&&e<t[r].end)return r;if(e>t[r].end&&r+1<i&&e<t[r+1].start)return-1;if(e>t[r].end&&r+1>=i)return-1}return-1}function B(e,t,n){var i=t.length;if(i<1)return[];var r=[];if((n=n<0?0:n>=i?i-1:n)<i)for(var o=t[n].end<=e?n:0;o<i&&(t[o].start<=e&&e<t[o].end&&r.push(o),!(e<t[o].start));o++);return r}function D(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=document.createElement(e);return r.className=i,r.innerHTML=t,Object.keys(n).forEach((function(t){var i=t,o=n[t];"video"===e||"audio"===e||"live-video"===e?o&&r.setAttribute(i,o):r.setAttribute(i,o)})),r}function H(e,t,n){if(n||(n=new N),"json"===t){var i=L.parseJson(e);n.resolve({list:i,format:"json"})}else"string"===t&&L.parse(e,(function(e,t){if(t){var i=M(2,t);n.reject(i,{format:e.format})}else if(e.format)n.resolve({styles:e.styles,list:e.list,format:e.format});else{var r=M(3);n.reject(r)}}));return n}function q(e,t){return t||(t=new N),new R({url:e.url,type:"text"}).then((function(n){H(n.res.response,"string").then((function(n){t.resolve(r(r({},n),e))})).catch((function(e){t.reject(e)}))})).catch((function(n){var i=M(1,r({statusText:n.statusText,status:n.status,type:n.type,message:"http load error",url:e.src},e));t.reject(i)})),t}function W(e,t){return!!(e.id&&t.id&&e.id===t.id||e.language&&t.language&&e.language===t.language)}var X=function(){function e(){var t=this;s(this,e),this.__handlers=[],window.ResizeObserver&&(this.observer=new window.ResizeObserver((function(e){t.__trigger(e)})))}return l(e,[{key:"addObserver",value:function(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var n=this.__handlers,i=-1,r=0;r<n.length;r++)n[r]&&e===n[r].target&&(i=r);i>-1?this.__handlers[i].handler.push(t):this.__handlers.push({target:e,handler:[t]})}}},{key:"unObserver",value:function(e){var t=-1;this.__handlers.map((function(n,i){e===n.target&&(t=i)})),this.observer&&this.observer.unobserve(e),t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e,t){for(var n=this.__handlers,i=0;i<n.length;i++)if(n[i]&&e===n[i].target){n[i].handler&&n[i].handler.forEach((function(n){try{n(e,t)}catch(e){console.error(e)}}));break}}},{key:"__trigger",value:function(e){var t=this;e.map((function(e){var n=e.contentRect;t.__runHandler(e.target,n)}))}}]),e}(),$=null;var G="resize",K="change",Y="off";function J(e){var t=[];return e&&"String"===D(e)?t.push({url:e,index:0,start:-1,end:-1}):"Array"===D(e)&&e.forEach((function(e,n){t.push({url:e.url||e.src,index:n,start:e.start||-1,end:e.end||-1})})),t}var Z=!1,Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,e);var t=p(n);function n(e){var i,r,o,a,l,c,d;return s(this,n),u(f(i=t.call(this)),"_onTimeupdate",(function(){if(i._isOpen){var e=i.player.video,t=e.videoWidth,n=e.videoHeight;!i._videoMeta.scale&&t&&n&&i._onResize(i.player.root);var r=i._getPlayerCurrentTime();Math.round(Math.abs(1e3*r-i._ctime))<200||(i._ctime=1e3*r,i.currentText&&i.currentText.list&&("live"===i.config.updateMode?i._liveUpdate(r):i._update(r)))}})),u(f(i),"getItemsByIndex",void 0),u(f(i),"_onResize",(function(e){var t=f(i),n=t._videoMeta;if(t.config.domRender){if(e&&e instanceof window.Element||(e=i.player.root),i._iId&&(clearTimeout(i._iId),i._iId=null),!n.scale){if(!i.player.video)return;var r=i.player.video,o=r.videoWidth,s=r.videoHeight;if(!o||!s)return;n.videoWidth=o,n.videoHeight=s,n.scale=parseInt(s/o*100,10)}i.__startResize(e)}})),u(f(i),"_onCoreEvents",(function(e){try{switch(e.eventName){case"core.subtitlesegments":i._onSubtitleSegment(e.list||[]);break;case"core.subtitleplaylist":i._onSubtitlePlaylist(e.list||[]);break;case"core.seipayloadtime":i._onCoreSeiintime(e)}}catch(e){console.error(e)}})),u(f(i),"destroy",(function(){i.detachPlayer(),i.removeAllListeners(),i.player=null,i.textTrack=null})),r=navigator.userAgent,o=/(?:Windows Phone)/.test(r),a=/(?:SymbianOS)/.test(r)||o,l=/(?:Android)/.test(r),c=/(?:Firefox)/.test(r),d=/(?:iPad|PlayBook)/.test(r)||l&&!/(?:Mobile)/.test(r)||c&&/(?:Tablet)/.test(r),Z=/(?:iPhone)/.test(r)&&!d||l||a||d,i.currentText=null,i.currentExtText=null,i.textTrack=[],i._cid=-1,i._gid=-1,i._cids=[],i._iId=null,i._iC=0,i.player=null,i.root=null,i.config={line:"double",bottom:0,mode:"stroke",defaultOpen:!1,baseSizeX:49,baseSizeY:28,minSize:16,minMobileSize:13,fitVideo:!0,offsetBottom:2,fontColor:"#fff",domRender:!0,updateMode:"vod",debugger:!1},i._ctime=0,i._loadingTrack={},Object.keys(i.config).map((function(t){void 0!==e[t]&&null!==e[t]&&(i.config[t]=e[t])})),i._isOpen=i.config.defaultOpen||!1,i._videoMeta={scale:0,videoHeight:0,videoWidth:0,lwidth:0,lheight:0,vWidth:0,vHeight:0,vBottom:0,vLeft:0,marginBottom:0},e.subTitles&&"Array"===D(e.subTitles)?(e.player&&i.attachPlayer(e.player),i.seiTime=0,i.lastSeiTime=0,i._curTexts=[],i.setSubTitles(e.subTitles,i.config.defaultOpen),i):h(i)}return l(n,[{key:"version",get:function(){return"1.1.1"}},{key:"setSubTitles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._isOpen||n;i&&this.innerRoot&&this.switchOff(),this.currentText=null,this.textTrack=[],t.forEach((function(t){var n={};Object.keys(t).map((function(e){n[e]=t[e]})),n.url=J(n.url),n.isDefault&&(e.currentText=n),e.textTrack.push(n)})),this._log("setSubTitles",r),r&&this.switch().catch((function(t){e._log("[switch]",t)})),this.currentText&&this._loadTrack(this.currentText).then((function(t){e.addStyles(t)})),this.emit("reset",{list:this.textTrack,isOpen:r})}},{key:"updateSubTitle",value:function(e){for(var t=this,n=-1,i=0;i<this.textTrack.length;i++)if(W(e,this.textTrack[i])){n=i;break}if(this._log("updateSubTitle",n,e),n>-1){var r=W(this.currentText,this.textTrack[n]);if(this._log("updateSubTitle","_isCurrent",r,"this.isOpen",this.isOpen,this.currentText),!r)return;var o=J(e.url);this.isOpen?(o.forEach((function(e){t.textTrack[n].url.push(e)})),this._log("updateSubTitle _loadTrackUrls",this.textTrack[n]),this._loadTrackUrls(this.currentText,2)):this.textTrack[n].url=o}}},{key:"addStyles",value:function(e){var t=e.styles,n=e.format;t&&"vtt"===n&&(t.map((function(e){e.key||(e.key="xg-text-track-span")})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";e.map((function(e){n+=" ".concat(t," ").concat(e.key," {").concat(e.style,"}")}));var i=document.createElement("style"),r=document.head||document.getElementsByTagName("head")[0];if(i.type="text/css",i.id="ssss",i.styleSheet){var o=function(){try{i.styleSheet.cssText=n}catch(e){}};i.styleSheet.disabled?setTimeout(o,10):o()}else{var s=document.createTextNode(n);i.appendChild(s)}r.appendChild(i)}(t,"xg-text-track"))}},{key:"attachPlayer",value:function(e){var t=this;if(this._log("attachPlayer"),e){this.player&&this.detachPlayer();var n,i,r=this.config,o=r.fontColor,s=r.mode,a=r.fitVideo,l=r.domRender;this.player=e,l&&(this.root=document.createElement("xg-text-track"),this.root.className="xg-text-track",!this._isOpen&&A(this.root,"text-track-hide"),!a&&A(this.root,"text-track-no-fitvideo"),s&&A(this.root,"text-track-".concat(s)),this.innerRoot=document.createElement("xg-text-track-inner"),this.root.appendChild(this.innerRoot),o&&(this.root.style.color=o),this.currentText&&["language","id","label"].map((function(e){t.root.setAttribute("data-".concat(e),t.currentText[e]||"")})),this.player.root.appendChild(this.root),n=e.root,i=this._onResize,$||($=new X),$.addObserver(n,i)),this.player.on("destroy",this.destroy),this.player.on("timeupdate",this._onTimeupdate),this.player.on("core_event",this._onCoreEvents),this._isOpen&&this.switch().catch((function(e){t._log("[switch]",e)}))}}},{key:"detachPlayer",value:function(){var e,t,n=this.player,i=this.config;n&&(n.off("destroy",this.destroy),n.off("timeupdate",this._onTimeupdate),n.on("core_event",this._onCoreEvents),i.domRender&&(n.root&&(e=n.root,t=this._onResize,$&&$.unObserver(e,t),n.root.removeChild(this.root)),this.innerRoot=null,this.root=null),this.player=null)}},{key:"switch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"",language:""};return this._log("switch",t),this._loadingTrack=t,new Promise((function(n,i){if(t.id||t.language)if(e.currentText&&W(t,e.currentText))e._loadingTrack={},e._updateCurrent(e.currentText),e.switchOn(),n(M(0));else{var r=null;e.__removeByTime(e._curTexts,0);for(var o=0;o<e.textTrack.length;o++)if(W(t,e.textTrack[o])){r=e.textTrack[o];break}if(e._log("nextSubtitle",r),r)e._emitPlayerSwitch(e.currentText,r),r.list?(e._loadingTrack={},e._updateCurrent(r),e.switchOn(),n(M(0))):(e._log("this._loadTrack",r),e._updateCurrent(r),e._loadTrack(r).then((function(t){if(e.addStyles(t),e._loadingTrack.id===r.id||e._loadingTrack.language===t.language)e._loadingTrack={},e._updateCurrent(t),e.switchOn(),n(M(0));else{var o=M(6,{message:"check _loadingTrack fail id: ".concat(e._loadingTrack.id,"  nextSubtitle:").concat(t.id)});i(o)}})).catch((function(e){i(e)})));else{var s=M(4,new Error("The is no subtitle with id:[{".concat(t.id,"}] or language:[").concat(t.language,"]")));i(s)}}else{if(e.currentText){e._loadingTrack={},e._updateCurrent(e.currentText),e.switchOn();var a=M(0,{message:"switch default subtitle success"});return void n(a)}var l=M(5,{message:"no default subtitle"});i(l)}}))}},{key:"switchExt",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"",language:""};return new Promise((function(n,i){if(t.id||t.language){for(var r=null,o=0;o<e.textTrack.length;o++)if(W(t,e.textTrack[o])){r=e.textTrack[o];break}r&&!W(r,e.currentText)&&e._loadTrack(r).then((function(t){e.currentExtText=t,n(M(0))}))}else e.currentExtText=null,n(M(0))}))}},{key:"switchOn",value:function(){this._log("switchOn"),this._isOpen=!0,this.show(),this.emit(K,this.currentText)}},{key:"switchOff",value:function(){this._isOpen=!1,this.hide(),this.emit(Y)}},{key:"isOpen",get:function(){return this._isOpen}},{key:"_log",value:function(){if(this.config.debugger){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).log.apply(e,["[xgSubtitle]"].concat(n))}}},{key:"_loadTrack",value:function(e){var t=this;this._log("_loadTrack",e.language,e);var n=new N,i="",r="";if(e.json?(i="json",r=e.json):e.stringContent&&!e.url&&(i="string",r=e.stringContent),r)return H(r,i).then((function(t){e.format=t.format,e.styles=t.styles,e.list=t.list,n.resolve(e)})).catch((function(e){n.reject(e)})),n;var o=e.url;return 0===o.length?(n.resolve(e),n):(q(o.splice(0,1)[0]).then((function(i){e.format=i.format,e.styles=i.styles,e.list||(e.list=[]),t._pushList(e.list,i.list),o.length>1&&t._loadTrackUrls(e,2),n.resolve(e)})).catch((function(e){n.reject(e)})),n)}},{key:"_emitPlayerSwitch",value:function(e,t){e&&"live"===this.config.updateMode&&(e.list=[],e.url=[]);var n=r({lang:t.language},t);this._log("emit subtile_switch ",t,n),this.player&&this.player.emit("switch_subtitle",n)}},{key:"_loadTrackUrls",value:function(e,t,n){var i=this,o=e.url.length,s=o>t?e.url.splice(0,t):e.url.splice(0,o),a=s.length;this._log("_loadTrackUrls",e.language,o,s.length,a),s.forEach((function(t,o){q(r(r({},t),{},{index:o})).then((function(t){e.format=t.format,e.styles=t.format,e.list||(e.list=[]),i._pushList(e.list,t.list),a--})).catch((function(e){a--})).finally((function(t){0===a&&(n&&n.resolve(e),i._loadTrackUrls(e,2))}))}))}},{key:"_freshUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{url:""},n=-1;e.url.forEach((function(e,i){e.url===t.url&&(n=i)})),n>-1&&e.url.splice(n,1)}},{key:"_pushList",value:function(e,t){var n=t[0].start,i=t[t.length-1].end;if(0===e.length||n>=e[e.length-1].end)t.forEach((function(t){e.push(t)}));else{for(var r=-1,o=0;o<e.length;o++)if(e[o].start>i){r=o;break}r>-1&&t.forEach((function(t,n){e.splice(r+n,0,t)}))}return e}},{key:"_updateCurrent",value:function(e){var t=this;this.currentText=e,this.config.domRender&&this.root&&(["language","id","label"].map((function(e){t.root.setAttribute("data-".concat(e),t.currentText[e]||"")})),this.__remove(this._cids)),this._cids=[],this._gid=-1,this._cid=-1,this._curTexts=[];var n=this._getPlayerCurrentTime();n&&("live"===this.config.updateMode?this._liveUpdate(n):this._update(n))}},{key:"__loadAll",value:function(){var e=this;this.textTrack.forEach((function(t){e._loadTrack(t)}))}},{key:"getDelCid",value:function(e,t){for(var n=[],i=0;i<e.length;i++)t.includes(e[i])||n.push(e[i]);return n}},{key:"getNewCid",value:function(e,t){for(var n=[],i=0;i<t.length;i++)e.includes(t[i])||n.push(t[i]);return n}},{key:"_liveUpdate",value:function(e){var t=this;if(this.currentText&&this.currentText.list&&this.currentText.list.length){var n=[],i=z(e,this.currentText.list,this._gid);if(i>-1&&(n=B(e,this.currentText.list[i].list,this._cid)),this.__removeByTime(this._curTexts,e),this._log("_liveUpdate",e,i,n,this.currentText.list[0].list[0].start,this.currentText.list[0].list[0].end),n.length>0){var r=function(e,t,n){if(0===e.length||t<0||t>e.length-1)return[];var i=e[t].list;if(0===n.length)return[];var r=i.splice(n[0],n.length);return t>0&&e.splice(0,t),0===i.length&&e.splice(0,1),r}(this.currentText.list,i,n),o=this._curTexts.length,s=o>0?this._curTexts[o-1].index:0;r.forEach((function(e,n){e.index=n+s,t._curTexts.push(e)})),this.__render(r)}this.emit("update",this._curTexts)}}},{key:"_update",value:function(e){var t=this;if(this.currentText&&this.currentText.list&&this.currentText.list.length){var n=z(e,this.currentText.list,this._gid),i=[];if(n>-1&&(i=B(e,this.currentText.list[n].list,this._cid)),i.length<1)return this._cids.length>0&&this.config.domRender&&this.__remove(this._cids),void(this._cids=[]);if(this._cids!==i||n!==this._gid){this._gid=n,this._cid=i[0];var r=this.getDelCid(this._cids,i),o=this.getNewCid(this._cids,i);this._cids=i,this.config.domRender&&this.__remove(r);var s=[];o.map((function(e){var i=t.currentText.list[n].list[e];i.index=e,s.push(i)})),this.currentExtText&&o.map((function(e){var i=t.currentText.list[n].list[e];i.index=e,s.push(i)})),this.emit("update",s),this.__render(s,e)}}}},{key:"_getPlayerCurrentTime",value:function(){if(!this.player)return 0;var e=this.player.currentTime;return parseInt(1e3*e+1e3*this.seiTime-1e3*this.lastSeiTime,10)/1e3}},{key:"_onSubtitlePlaylist",value:function(e){this._log("_onSubtitlePlaylist",e);var t=e.map((function(e){return{label:e.name,language:e.lang,id:e.id,isDefault:e.default,url:[],mUrl:e.url}}));this.setSubTitles(t)}},{key:"_onSubtitleSegment",value:function(e){if(this._log("_onSubtitleSegment",e.length,e[0].lang,e[0].sn,e[e.length-1].sn,e[0].start,e[e.length-1].end),e&&0!==e.length){var t={language:e[0].lang,url:e.map((function(e){return{id:e.sn,url:e.url,duration:e.duration,start:e.start,end:e.end}}))};W(t,this.currentText)&&this.updateSubTitle(t)}}},{key:"_onCoreSeiintime",value:function(e){try{var t=e.time/1e3;this._log("_onCoreSeiintime sei",t,this.seiTime,this.lastSeiTime),this.seiTime=t,this.lastSeiTime=this.player?this.player.currentTime:0}catch(e){}}},{key:"resize",value:function(e,t){var n,i=this,r=this.config,o=r.baseSizeX,s=r.baseSizeY,a=r.minMobileSize,l=r.minSize,u=r.fitVideo,c=r.offsetBottom,d=this._videoMeta.scale;this._videoMeta.lwidth=e,this._videoMeta.lheight=t;var f=0;t/e*100>=d?(f=parseInt(d*e,10)/100,n=e):(f=t,n=parseInt(t/d*100,10)),this._videoMeta.vWidth=n,this._videoMeta.vHeight=f;var h=0,p=0;d>120?(h=s,p=parseInt(h*f/1080,10)):(h=o,p=parseInt(h*n/1920,10));var v=Z?a:l,m={fontSize:p=p<v?v:p>h?h:p},y=parseInt((t-f)/2,10),g=parseInt((e-n)/2,10),b=parseInt(f*c,10)/100;this._videoMeta.vBottom=y,this._videoMeta.vLeft=g,this._videoMeta.marginBottom=b,u&&(m.bottom=y+b,m.left=m.right=g),Object.keys(m).map((function(e){i.root.style[e]="".concat(m[e],"px")})),this.emit(G,{vLeft:g,vBottom:y,marginBottom:b,vWidth:n,vHeight:f,fontSize:p,scale:d})}},{key:"__startResize",value:function(e){var t=this,n=e.getBoundingClientRect(),i=this._videoMeta,r=n.width,o=n.height;if(this._iId&&(clearTimeout(this._iId),this._iId=null),r>0&&o>0&&(r!==i.lwidth||o!==i.lheight))this._iC=0,this.resize(r,o);else{if(this._iC>=5)return void(this._iC=0);this._iC++,this._iId=setTimeout((function(){t.__startResize(e)}),50)}}},{key:"__removeByTime",value:function(e,t){for(var n=[],i=0;i<e.length;i++)(!t||e[i].end<t)&&n.push(i);0!==n.length&&(e.splice(n[0],n.length),this.config.domRender&&this.__remove(n))}},{key:"__remove",value:function(e){var t=this;if(e&&!(e.length<1)){for(var n=this.innerRoot.children,i=[],r=0;r<n.length;r++){var o=Number(n[r].getAttribute("data-index"));e.includes(o)&&i.push(n[r])}i.map((function(e){t.innerRoot.removeChild(e)}))}}},{key:"__render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._log("__render",t.length,this.config.domRender),t.length>0&&this.config.domRender&&t.map((function(t){var n="text-track-".concat(e.config.line);t.text.map((function(i,r){r>0&&(n+=" text-track-deputy");var o={"data-start":t.start,"data-end":t.end,"data-index":t.index};e.innerRoot.appendChild(U("xg-text-track-span",i,o,n))}))}))}},{key:"show",value:function(){var e,t;this.config.domRender&&(e=this.root,t="text-track-hide",e&&(e.classList?t.split(/\s+/g).forEach((function(t){e.classList.remove(t)})):I(e,t)&&t.split(/\s+/g).forEach((function(t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===o(e.className)?e.setAttribute("class",e.getAttribute("class").replace(n," ")):e.className=e.className.replace(n," ")}))))}},{key:"hide",value:function(){this.config.domRender&&(A(this.root,"text-track-hide"),this.innerRoot.innerHTML="")}},{key:"emit",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(i=m(c(n.prototype),"emit",this)).call.apply(i,[this,e,t].concat(o))}},{key:"on",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(i=m(c(n.prototype),"on",this)).call.apply(i,[this,e,t].concat(o))}},{key:"once",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(i=m(c(n.prototype),"once",this)).call.apply(i,[this,e,t].concat(o))}},{key:"off",value:function(e,t){for(var i,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(i=m(c(n.prototype),"off",this)).call.apply(i,[this,e,t].concat(o))}},{key:"offAll",value:function(){m(c(n.prototype),"removeAllListeners",this).call(this)}},{key:"marginBottom",get:function(){var e=this._videoMeta,t=e.bottom,n=e.marginBottom;return this.config.fitVideo?t+n:n}}]),n}(b.a)}}]);